"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[10],{4010:(re,y,I)=>{I.r(y),I.d(y,{MetadataModule:()=>__});var o=I(8583),l=I(3092),A=I(9502),e=I(476);let W=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-metadata"]],decls:17,vars:0,consts:function(){let c,t,_,n;return c="Device Service",t="Device",_="Device Profile",n="Provision Watcher",[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./device-service-list","routerLinkActive","active",1,"nav-link"],c,["routerLink","./device-center","routerLinkActive","active",1,"nav-link"],t,["routerLink","./device-profile-center","routerLinkActive","active",1,"nav-link"],_,["routerLink","./provision-watcher-center","routerLinkActive","active",1,"nav-link"],n,[1,"card-body"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ul",2),e.TgZ(3,"li",3),e.TgZ(4,"a",4),e.SDv(5,5),e.qZA(),e.qZA(),e.TgZ(6,"li",3),e.TgZ(7,"a",6),e.SDv(8,7),e.qZA(),e.qZA(),e.TgZ(9,"li",3),e.TgZ(10,"a",8),e.SDv(11,9),e.qZA(),e.qZA(),e.TgZ(12,"li",3),e.TgZ(13,"a",10),e.SDv(14,11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",12),e._UZ(16,"router-outlet"),e.qZA(),e.qZA())},directives:[A.yS,A.Od,A.lC],styles:[".active-link[_ngcontent-%COMP%]{color:#922c48;background-color:#922c4866!important}"]}),i})();var m=I(2437),b=I(7822);function P(i,c){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function h(i,c){1&i&&(e.TgZ(0,"p",20),e._uU(1,"no description."),e.qZA())}function Z(i,c){if(1&i&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.adminState)}}function x(i,c){if(1&i&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.adminState)}}function X(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"a",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw().associatedDevicesSkip(n.name)}),e._UZ(1,"i",24),e.TgZ(2,"span"),e.SDv(3,25),e.qZA(),e._uU(4),e.qZA()}if(2&i){const t=e.oxw().$implicit,_=e.oxw();e.xp6(4),e.hij("\xa0 ",_.associatedDevices.get(t.name)," ")}}function le(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"li",3),e.TgZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"i",6),e.qZA(),e.TgZ(4,"div",7),e.TgZ(5,"div",8),e.TgZ(6,"h5",9),e._uU(7),e.qZA(),e.qZA(),e.YNc(8,P,2,1,"p",10),e.YNc(9,h,2,0,"ng-template",null,11,e.W1O),e.TgZ(11,"div"),e.TgZ(12,"span",12),e._uU(13),e.qZA(),e.TgZ(14,"span",13),e.YNc(15,Z,2,1,"span",14),e.YNc(16,x,2,1,"span",15),e.qZA(),e.YNc(17,X,5,1,"a",16),e.TgZ(18,"span",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().edit(s)}),e._UZ(19,"i",18),e.TgZ(20,"span"),e.SDv(21,19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=c.$implicit,_=e.MAs(10),n=e.oxw();e.xp6(7),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.description)("ngIfElse",_),e.xp6(5),e.hij("Port ",n.getSvcPort(t.baseAddress),""),e.xp6(1),e.Q6J("ngSwitch",t.adminState),e.xp6(1),e.Q6J("ngSwitchCase","UNLOCKED"),e.xp6(2),e.Q6J("ngIf",n.associatedDevices.size)}}function M(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",26),e.TgZ(1,"div",27),e._UZ(2,"i",28),e.TgZ(3,"span"),e.SDv(4,29),e.qZA(),e.TgZ(5,"span",30),e._uU(6),e.qZA(),e.TgZ(7,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateSvc()}),e.SDv(8,32),e.qZA(),e.qZA(),e.TgZ(9,"div",33),e.TgZ(10,"form"),e.TgZ(11,"div",34),e.TgZ(12,"label",35),e.SDv(13,36),e.qZA(),e.TgZ(14,"div",37),e.TgZ(15,"input",38),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().deviceSvcSelected.description=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",34),e.TgZ(17,"label",39),e.SDv(18,40),e.qZA(),e.TgZ(19,"div",37),e.TgZ(20,"select",41),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().deviceSvcSelected.adminState=n}),e.TgZ(21,"option",42),e._uU(22,"UNLOCKED"),e.qZA(),e.TgZ(23,"option",43),e._uU(24,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Oqu(t.deviceSvcSelected.name),e.xp6(9),e.Q6J("ngModel",t.deviceSvcSelected.description),e.xp6(5),e.Q6J("ngModel",t.deviceSvcSelected.adminState)}}let L=(()=>{class i{constructor(t,_,n,s){this.metaSvc=t,this.msgSvc=_,this.router=n,this.route=s,this.deviceServiceList=[],this.associatedDevices=new Map}ngOnInit(){this.metaSvc.allDeviceServices().subscribe(t=>{this.deviceServiceList=t.services,this.deviceServiceList.forEach(_=>{this.metaSvc.findDevicesByServiceName(0,20,_.name).subscribe(n=>{this.associatedDevices.set(_.name,n.devices.length>20?"20+":String(n.devices.length))})})})}getSvcPort(t){return new URL(t).port}edit(t){this.deviceSvcSelected=t}updateSvc(){this.metaSvc.updateDeviceService(this.deviceSvcSelected).subscribe(()=>{var t;this.msgSvc.success("update device service",`name: ${null===(t=this.deviceSvcSelected)||void 0===t?void 0:t.name}`),this.deviceSvcSelected=void 0})}associatedDevicesSkip(t){this.router.navigate(["../device-center"],{queryParams:{svcName:t},relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.D),e.Y36(b.e),e.Y36(A.F0),e.Y36(A.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-service-media-list"]],decls:3,vars:2,consts:function(){let c,t,_,n,s,a;return c="Setting",t="Associated Devices",_="edit",n="Save",s="Description",a="AdminState",[[1,"list-group","p-0"],["class","list-group-item list-group-item-action list-group-item-light",4,"ngFor","ngForOf"],["class","card mt-3",4,"ngIf"],[1,"list-group-item","list-group-item-action","list-group-item-light"],[1,"media"],[1,"align-self-center","mr-3"],[1,"fa","fa-tags","fa-2x","text-secondary"],[1,"media-body"],[1,"mt-0","mb-1"],[1,"d-inline","mr-3","align-middle","text-dark"],[4,"ngIf","ngIfElse"],["nodesc",""],[1,"badge","badge-info","mr-3"],[3,"ngSwitch"],["class","badge badge-success mr-3",4,"ngSwitchCase"],["class","badge badge-danger mr-3",4,"ngSwitchDefault"],["class","badge badge-primary","role","button",3,"click",4,"ngIf"],["role","button",1,"badge","badge-secondary","float-right",3,"click"],[1,"fa","fa-cog","mr-1"],c,[1,"my-1"],[1,"badge","badge-success","mr-3"],[1,"badge","badge-danger","mr-3"],["role","button",1,"badge","badge-primary",3,"click"],[1,"fa","fa-sitemap","mr-1"],t,[1,"card","mt-3"],[1,"card-header"],[1,"fa","fa-edit","mr-1","text-danger"],_,[1,"ml-1"],[1,"btn","btn-success","btn-sm","float-right",3,"click"],n,[1,"card-body"],[1,"form-group","row"],["for","deviceDesc",1,"col-md-2","col-form-label"],s,[1,"col-md-10"],["type","text","name","deviceSvcDescription",1,"form-control",3,"ngModel","ngModelChange"],["for","adminState",1,"col-md-2","col-form-label"],a,["name","deviceSvcAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"]]},template:function(t,_){1&t&&(e.TgZ(0,"ul",0),e.YNc(1,le,22,7,"li",1),e.qZA(),e.YNc(2,M,25,3,"div",2)),2&t&&(e.xp6(1),e.Q6J("ngForOf",_.deviceServiceList),e.xp6(1),e.Q6J("ngIf",_.deviceSvcSelected))},directives:[o.sg,o.O5,o.RF,o.n9,o.ED,l._Y,l.JL,l.F,l.Fj,l.JJ,l.On,l.EJ,l.YN,l.Kr],styles:[""]}),i})(),r=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-center"]],decls:1,vars:0,template:function(t,_){1&t&&e._UZ(0,"router-outlet")},directives:[A.lC],styles:[""]}),i})();var d=I(7982);function u(i,c){1&i&&e._UZ(0,"div")}function q(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"li",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).selectCmd(s)}),e._uU(1),e.qZA()}if(2&i){const t=c.$implicit,_=e.oxw(2);e.ekj("list-group-item-info",(null==_.selectedCmd?null:_.selectedCmd.name)===t.name),e.xp6(1),e.Oqu(t.name)}}function w(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).issueGetCmd()}),e._uU(1,"try"),e.qZA()}}function H(i,c){1&i&&e._UZ(0,"div")}function Y(i,c){if(1&i&&(e.TgZ(0,"span",41),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.cmdGetResponse,"")}}function B(i,c){if(1&i&&(e.TgZ(0,"pre",42),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Oqu(t.cmdGetResponseRaw)}}function K(i,c){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span",35),e.SDv(2,36),e.qZA(),e.YNc(3,Y,2,1,"span",37),e.qZA(),e.TgZ(4,"div",38),e.TgZ(5,"span",35),e.SDv(6,39),e.qZA(),e.YNc(7,B,2,1,"pre",40),e.qZA()),2&i){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.cmdGetResponse),e.xp6(4),e.Q6J("ngIf",t.cmdGetResponseRaw)}}function j(i,c){1&i&&(e.TgZ(0,"h6",43),e._UZ(1,"i",44),e.TgZ(2,"span"),e.SDv(3,45),e.qZA(),e.qZA())}function ee(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).issueSetCmd()}),e._uU(1,"try"),e.qZA()}}function te(i,c){1&i&&e._UZ(0,"div")}function _e(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"label",56),e._uU(2),e.qZA(),e.TgZ(3,"select",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw().index;return e.oxw(6).parameterBearerList[s].value=n}),e.TgZ(4,"option",58),e._uU(5,"false"),e.qZA(),e.TgZ(6,"option",58),e._uU(7,"true"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(),_=t.$implicit,n=t.index,s=e.oxw(6);e.xp6(1),e.s9C("for",_.resourceName),e.xp6(1),e.hij(" ",_.resourceName," "),e.xp6(1),e.s9C("id",_.resourceName),e.s9C("name",_.resourceName),e.Q6J("ngModel",s.parameterBearerList[n].value),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0)}}function ie(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"label",56),e._uU(1),e.qZA(),e.TgZ(2,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw().index;return e.oxw(6).parameterBearerList[s].value=n}),e.qZA()}if(2&i){const t=e.oxw(),_=t.$implicit,n=t.index,s=e.oxw(6);e.s9C("for",_.resourceName),e.xp6(1),e.Oqu(_.resourceName),e.xp6(1),e.s9C("id",_.resourceName),e.s9C("name",_.resourceName),e.MGl("placeholder","valueType: ",_.valueType,""),e.Q6J("ngModel",s.parameterBearerList[n].value)}}function ne(i,c){if(1&i&&(e.TgZ(0,"div",53),e.YNc(1,_e,8,7,"div",54),e.YNc(2,ie,3,6,"ng-template",null,55,e.W1O),e.qZA()),2&i){const t=c.$implicit,_=e.MAs(3);e.xp6(1),e.Q6J("ngIf","Bool"==t.valueType)("ngIfElse",_)}}function oe(i,c){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,ne,4,2,"div",52),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.selectedCmdSetParams)}}function se(i,c){if(1&i&&(e.TgZ(0,"div",12),e.TgZ(1,"div",4),e.SDv(2,49),e.qZA(),e.TgZ(3,"div",9),e.YNc(4,oe,2,1,"div",50),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(4),e.Q6J("ngIf",t.selectedCmd)}}function R(i,c){if(1&i&&(e.TgZ(0,"span",41),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Oqu(t.cmdSetResponse)}}function me(i,c){if(1&i&&(e.TgZ(0,"pre",42),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Oqu(t.cmdSetResponseRaw)}}function De(i,c){if(1&i&&(e.YNc(0,se,5,1,"div",46),e.TgZ(1,"div"),e.TgZ(2,"div"),e.TgZ(3,"span",35),e.SDv(4,47),e.qZA(),e.YNc(5,R,2,1,"span",37),e.qZA(),e.TgZ(6,"div",38),e.TgZ(7,"span",35),e.SDv(8,48),e.qZA(),e.YNc(9,me,2,1,"pre",40),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("ngIf",t.selectedCmdSetParams),e.xp6(5),e.Q6J("ngIf",t.cmdSetResponse),e.xp6(4),e.Q6J("ngIf",t.cmdSetResponseRaw)}}function Pe(i,c){1&i&&(e.TgZ(0,"h6",43),e._UZ(1,"i",44),e.TgZ(2,"span"),e.SDv(3,60),e.qZA(),e.qZA())}function Me(i,c){if(1&i&&(e.TgZ(0,"div",21),e.TgZ(1,"div",4),e.TgZ(2,"span",22),e._UZ(3,"i",23),e._uU(4),e.qZA(),e.TgZ(5,"span"),e.SDv(6,24),e.qZA(),e.qZA(),e.TgZ(7,"div",25),e.TgZ(8,"div",10),e.TgZ(9,"div",26),e.TgZ(10,"div",12),e.TgZ(11,"div",4),e._uU(12," Get "),e.YNc(13,w,2,0,"button",27),e.qZA(),e.TgZ(14,"div",28),e.YNc(15,H,1,0,"div",0),e.YNc(16,K,8,2,"ng-template",null,29,e.W1O),e.YNc(18,j,4,0,"ng-template",null,30,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",31),e.TgZ(21,"div",21),e.TgZ(22,"div",4),e._uU(23," Set "),e.YNc(24,ee,2,0,"button",27),e.qZA(),e.TgZ(25,"div",9),e.YNc(26,te,1,0,"div",0),e.YNc(27,De,10,3,"ng-template",null,32,e.W1O),e.YNc(29,Pe,4,0,"ng-template",null,33,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.MAs(17),_=e.MAs(19),n=e.MAs(28),s=e.MAs(30),a=e.oxw(2);e.xp6(4),e.hij(" ",a.selectedCmd.name," method:"),e.xp6(9),e.Q6J("ngIf",a.selectedCmd.get),e.xp6(2),e.Q6J("ngIf",a.selectedCmd.get)("ngIfThen",t)("ngIfElse",_),e.xp6(9),e.Q6J("ngIf",a.selectedCmd.set),e.xp6(2),e.Q6J("ngIf",a.selectedCmd.set)("ngIfThen",n)("ngIfElse",s)}}function Oe(i,c){if(1&i&&(e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"span",5),e._UZ(3,"i",6),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA(),e.TgZ(6,"span"),e.SDv(7,8),e.qZA(),e.qZA(),e.TgZ(8,"div",9),e.TgZ(9,"div",10),e.TgZ(10,"div",11),e.TgZ(11,"div",12),e.TgZ(12,"div",13),e.SDv(13,14),e.qZA(),e.TgZ(14,"div",15),e.TgZ(15,"ul",16),e.YNc(16,q,2,3,"li",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",18),e.YNc(18,Me,31,9,"div",19),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.associatedCmdDeviceName),e.xp6(11),e.Q6J("ngForOf",t.deviceCoreCommand),e.xp6(2),e.Q6J("ngIf",t.selectedCmd)}}function Ne(i,c){if(1&i&&(e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"span",5),e._UZ(3,"i",6),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA(),e.TgZ(6,"span"),e.SDv(7,61),e.qZA(),e.qZA(),e.TgZ(8,"div",62),e.TgZ(9,"h5",43),e._UZ(10,"i",63),e.TgZ(11,"span"),e.SDv(12,64),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.associatedCmdDeviceName)}}let he=(()=>{class i{constructor(t,_){this.cmdSvc=t,this.metadataSvc=_,this.selectedCmd={},this.selectedCmdSetParams=[],this.parameterBearerList=[]}ngOnInit(){}ngOnChanges(){!this.deviceName||(this.resetResponse(),this.cmdSvc.findDeviceAssociatedCommnadsByDeviceName(this.deviceName).subscribe(t=>{this.associatedCmdDeviceName=t.deviceCoreCommand.deviceName,this.deviceCoreCommand=t.deviceCoreCommand.coreCommands,this.deviceCoreCommand&&0!==this.deviceCoreCommand.length&&(this.selectedCmd=this.deviceCoreCommand[0],this.selectedCmdSetParams=this.selectedCmd.parameters,this.setParameterBearerList(),this.getAssociatedDeviceProfile(t.deviceCoreCommand.profileName))}))}getAssociatedDeviceProfile(t){this.metadataSvc.findProfileByName(t).subscribe(_=>this.associateDeviceProfile=_.profile)}selectCmd(t){this.selectedCmd=t,this.selectedCmdSetParams=this.selectedCmd.parameters,this.resetResponse(),this.setParameterBearerList()}setParameterBearerList(){this.parameterBearerList=[],this.selectedCmdSetParams.forEach(t=>{this.parameterBearerList.push({key:t.resourceName,value:""})})}resetResponse(){this.cmdGetResponse="",this.cmdGetResponseRaw="",this.cmdSetResponse="",this.cmdSetResponseRaw="",this.cmdBinaryResponse=!0,this.cmdBinaryResponseURL=""}isBinaryResource(){let t=!1;return this.associateDeviceProfile.deviceResources.forEach(_=>{_.name!==this.selectedCmd.name||"Binary"!==_.properties.valueType||(t=!0)}),t||(this.associateDeviceProfile.deviceCommands.forEach(_=>{_.name===this.selectedCmd.name&&_.resourceOperations.forEach(n=>{this.associateDeviceProfile.deviceResources.forEach(s=>{n.deviceResource!==s.name||"Binary"!==s.properties.valueType||(t=!0)})})}),t)}issueGetCmd(){this.cmdSvc.issueGetCmd(this.associatedCmdDeviceName,this.selectedCmd.name).subscribe(t=>{if(this.cmdGetResponseRaw=JSON.stringify(t.event.readings,null,3),this.isBinaryResource())return void(this.cmdGetResponse="Binary resource is not supported for preview");let _=[];t.event.readings.forEach(n=>{_.push(n.value)}),this.cmdGetResponse=_.join(",")})}issueGetCmdOfBinaryResource(){this.cmdSvc.issueGetBinaryCmd(this.associatedCmdDeviceName,this.selectedCmd.name).subscribe(t=>{let _=CBOR.decode(t);"image/jpeg"===_.mediaType||"image/jpg"===_.mediaType||"image/png"===_.mediaType?(this.cmdBinaryResponse=_.binaryValue,this.cmdBinaryResponseURL=URL.createObjectURL(this.cmdBinaryResponse)):this.cmdBinaryResponse="only image binary is supported"})}issueSetCmd(){var t;let _={};this.parameterBearerList.forEach(n=>{_[n.key]=n.value}),this.cmdSvc.issueSetCmd(this.associatedCmdDeviceName,null===(t=this.selectedCmd)||void 0===t?void 0:t.name,_).subscribe(n=>{this.cmdSetResponseRaw=JSON.stringify(n,null,3),this.cmdSetResponse=n.message})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.V),e.Y36(m.D))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-command-viewer"]],inputs:{deviceName:"deviceName"},features:[e.TTD],decls:5,vars:3,consts:function(){let c,t,_,n,s,a,E,f,C,S,O,T;return c="Associated Commands",t=" Command Name List ",_="Get and Set",n="Response:",s="ResponseRaw:",a="no Get method",E="Response:",f="ResponseRaw:",C="Set Parameters",S="no Set method",O="Associated Commands",T="no associated commands",[[4,"ngIf","ngIfThen","ngIfElse"],["hasAssociatedCommand",""],["noAssociatedCommand",""],[1,"card","mt-3"],[1,"card-header"],[1,"badge","badge-danger","text-light"],[1,"fa","fa-terminal","font-weight-bolder"],[1,"text-primary","mx-2","font-weight-bold"],c,[1,"card-body"],[1,"row"],[1,"col-md-2","col-lg-2"],[1,"card","mb-2"],[1,"card-header","font-weight-bold"],t,[1,"card-body","p-0"],[1,"list-group","list-group-flush"],["role","button","class","list-group-item list-group-item-action",3,"list-group-item-info","click",4,"ngFor","ngForOf"],[1,"col-md-10","col-lg-10"],["class","card",4,"ngIf"],["role","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"card"],[1,"text-primary","font-weight-bold","mr-2"],[1,"fa","fa-thumb-tack","text-danger","mr-1"],_,[1,"card-body","px-2"],[1,"col-md-5","col-lg-5"],["class","btn btn-primary btn-sm float-right",3,"click",4,"ngIf"],[1,"card-body","overflow-auto"],["hasGetMethod",""],["noGetMethod",""],[1,"col-md-7","col-lg-7"],["hasSetMethod",""],["noSetMethod",""],[1,"btn","btn-primary","btn-sm","float-right",3,"click"],[1,"badge","badge-info"],n,["class","ml-2 text-primary",4,"ngIf"],[1,"mt-3"],s,["class","mt-2 bg-secondary p-2 text-light rounded",4,"ngIf"],[1,"ml-2","text-primary"],[1,"mt-2","bg-secondary","p-2","text-light","rounded"],[1,"text-warning"],[1,"fa","fa-warning","mr-1"],a,["class","card mb-2",4,"ngIf"],E,f,C,["class","d-flex flex-column bd-highlight",4,"ngIf"],[1,"d-flex","flex-column","bd-highlight"],["class","form p-2 bd-highlight",4,"ngFor","ngForOf"],[1,"form","p-2","bd-highlight"],[4,"ngIf","ngIfElse"],["valueTypeIsNotBool",""],[3,"for"],[1,"custom-select","custom-select-sm",3,"id","name","ngModel","ngModelChange"],[3,"ngValue"],[1,"form-control","form-control-sm",3,"id","name","ngModel","placeholder","ngModelChange"],S,O,[1,"card-body","text-center"],[1,"fa","fa-warning"],T]},template:function(t,_){if(1&t&&(e.YNc(0,u,1,0,"div",0),e.YNc(1,Oe,19,3,"ng-template",null,1,e.W1O),e.YNc(3,Ne,13,1,"ng-template",null,2,e.W1O)),2&t){const n=e.MAs(2),s=e.MAs(4);e.Q6J("ngIf",_.deviceCoreCommand)("ngIfThen",n)("ngIfElse",s)}},directives:[o.O5,o.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr,l.Fj],styles:[""]}),i})();function Re(i,c){if(1&i&&(e.TgZ(0,"span"),e.TgZ(1,"span",67),e.SDv(2,68),e.qZA(),e.TgZ(3,"span",69),e._uU(4),e.qZA(),e.TgZ(5,"span"),e.SDv(6,70),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.associatedSvcName)}}function Ze(i,c){if(1&i&&(e.TgZ(0,"span"),e.TgZ(1,"span",67),e.SDv(2,71),e.qZA(),e.TgZ(3,"span",69),e._uU(4),e.qZA(),e.TgZ(5,"span"),e.SDv(6,72),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.associatedProfileName)}}function Ve(i,c){1&i&&(e.TgZ(0,"span"),e.SDv(1,73),e.qZA())}function be(i,c){if(1&i&&(e.TgZ(0,"span",85),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.adminState)}}function Le(i,c){if(1&i&&(e.TgZ(0,"span",86),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.adminState)}}function $e(i,c){if(1&i&&(e.TgZ(0,"span",85),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.operatingState,"")}}function qe(i,c){if(1&i&&(e.TgZ(0,"span",86),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.operatingState,"")}}function xe(i,c){if(1&i&&(e.TgZ(0,"span",86),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.operatingState,"")}}const ye=function(i){return{profileName:i}};function We(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",23),e.NdJ("click",function(n){const a=e.CHM(t).$implicit;return e.oxw().selectOne(n,a)}),e.qZA(),e.qZA(),e.TgZ(3,"td",74),e._uU(4),e.qZA(),e.TgZ(5,"td",74),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"span",75),e.YNc(13,be,2,1,"span",76),e.YNc(14,Le,2,1,"span",77),e.qZA(),e.qZA(),e.TgZ(15,"td",78),e.TgZ(16,"span",75),e.YNc(17,$e,2,1,"span",76),e.YNc(18,qe,2,1,"span",79),e.YNc(19,xe,2,1,"span",77),e.qZA(),e.qZA(),e.TgZ(20,"td",78),e.TgZ(21,"span",80),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return a.setSpecialFeatureViewer(s,a.FEATURE_COMMAND)}),e._UZ(22,"i",81),e.qZA(),e.qZA(),e.TgZ(23,"td",78),e.TgZ(24,"span",80),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return a.setSpecialFeatureViewer(s,a.FEATURE_AUTOEVENT)}),e._UZ(25,"i",82),e.qZA(),e.qZA(),e.TgZ(26,"td"),e.TgZ(27,"a",83),e._uU(28),e.qZA(),e.qZA(),e.TgZ(29,"td"),e.TgZ(30,"a",84),e._uU(31),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=c.$implicit,_=e.oxw();e.ekj("table-active",_.isChecked(t.id)||_.specialFeatureAssociatedDeviceName===t.name),e.xp6(2),e.Q6J("checked",_.isChecked(t.id)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.labels),e.xp6(2),e.Q6J("ngSwitch",t.adminState),e.xp6(1),e.Q6J("ngSwitchCase","UNLOCKED"),e.xp6(3),e.Q6J("ngSwitch",t.operatingState),e.xp6(1),e.Q6J("ngSwitchCase","UP"),e.xp6(1),e.Q6J("ngSwitchCase","DOWN"),e.xp6(3),e.ekj("badge-danger",_.specialFeatureName===_.FEATURE_COMMAND&&_.specialFeatureAssociatedDeviceName===t.name),e.xp6(3),e.ekj("badge-danger",_.specialFeatureName===_.FEATURE_AUTOEVENT&&_.specialFeatureAssociatedDeviceName===t.name),e.xp6(3),e.Q6J("queryParams",e.VKq(19,ye,t.profileName)),e.xp6(1),e.Oqu(t.profileName),e.xp6(3),e.Oqu(t.serviceName)}}function we(i,c){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"span",99),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"td"),e.TgZ(7,"span",100),e._uU(8),e.qZA(),e.qZA(),e.qZA()),2&i){const t=c.$implicit;e.xp6(2),e.Oqu(t.sourceName),e.xp6(3),e.Oqu(t.interval),e.xp6(3),e.Oqu(t.onChange)}}function Ge(i,c){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",89),e.TgZ(2,"div",90),e.TgZ(3,"span",91),e._UZ(4,"i",82),e.qZA(),e.TgZ(5,"span",92),e._uU(6),e.qZA(),e.TgZ(7,"span"),e.SDv(8,93),e.qZA(),e.qZA(),e.TgZ(9,"div",94),e.TgZ(10,"div",19),e.TgZ(11,"table",20),e.TgZ(12,"thead",21),e.TgZ(13,"th",22),e.SDv(14,95),e.qZA(),e.TgZ(15,"th",22),e.SDv(16,96),e.qZA(),e.TgZ(17,"th",22),e.SDv(18,97),e.qZA(),e.qZA(),e.TgZ(19,"tbody"),e.YNc(20,we,9,3,"tr",98),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.specialFeatureAssociatedDeviceName,""),e.xp6(14),e.Q6J("ngForOf",t.autoEvents)}}function Xe(i,c){if(1&i&&(e.TgZ(0,"div",89),e.TgZ(1,"div",90),e.TgZ(2,"span",91),e._UZ(3,"i",82),e.qZA(),e.TgZ(4,"span",92),e._uU(5),e.qZA(),e.TgZ(6,"span"),e.SDv(7,101),e.qZA(),e.qZA(),e.TgZ(8,"div",102),e.TgZ(9,"h5",103),e._UZ(10,"i",58),e.TgZ(11,"span"),e.SDv(12,104),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(5),e.hij(" ",t.specialFeatureAssociatedDeviceName,"")}}function He(i,c){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ge,21,2,"div",87),e.YNc(2,Xe,13,1,"ng-template",null,88,e.W1O),e.qZA()),2&i){const t=e.MAs(3),_=e.oxw();e.xp6(1),e.Q6J("ngIf",_.autoEvents)("ngIfElse",t)}}function ke(i,c){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-device-command-viewer",105),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("deviceName",t.specialFeatureAssociatedDeviceName)}}let Ue=(()=>{class i{constructor(t,_,n,s){this.metaSvc=t,this.msgSvc=_,this.route=n,this.router=s,this.toolbars=!0,this.enableSelectAll=!0,this.deviceList=[],this.associatedSvcName="",this.associatedProfileName="",this.selectedDevice=[],this.FEATURE_AUTOEVENT="autoevent",this.FEATURE_COMMAND="command",this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(t=>t.svcName?(this.associatedSvcName=t.svcName,void this.getDeviceListByAssociatedSvc(this.associatedSvcName)):t.profileName?(this.associatedProfileName=t.profileName,void this.getDeviceListByAssociatedProfile(this.associatedProfileName)):(this.associatedSvcName="",this.associatedProfileName="",void this.getDeviceListPagination()))}renderPopoverComponent(){setTimeout(()=>{$('[data-toggle="popover"]').popover({trigger:"hover"})},250)}getDeviceList(){""===this.associatedSvcName?""===this.associatedProfileName?this.getDeviceListPagination():this.getDeviceListByAssociatedProfile(this.associatedSvcName):this.getDeviceListByAssociatedSvc(this.associatedSvcName)}getDeviceListByAssociatedSvc(t){this.metaSvc.findDevicesByServiceName(this.pageOffset,this.pageLimit,t).subscribe(_=>this.deviceList=_.devices)}getDeviceListByAssociatedProfile(t){this.metaSvc.findDevicesByProfileName(this.pageOffset,this.pageLimit,t).subscribe(_=>this.deviceList=_.devices)}getDeviceListPagination(){this.metaSvc.allDevicesPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.deviceList=t.devices})}refresh(){this.associatedProfileName="",this.associatedSvcName="",this.metaSvc.allDevicesPagination(0,this.pageLimit).subscribe(t=>{this.deviceList=t.devices,this.msgSvc.success("refresh"),this.resetPagination()})}edit(){this.router.navigate(["../edit-device"],{relativeTo:this.route,queryParams:{deviceName:this.selectedDevice[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}delete(){this.selectedDevice.forEach((t,_)=>{this.metaSvc.deleteOneDeviceByName(t.name).subscribe(()=>{this.selectedDevice.splice(_,1),this.deviceList.forEach((n,s)=>{if(n.id===t.id)return this.deviceList.splice(s,1),void this.msgSvc.success("remove device ",` Name: ${n.name}`)})})}),this.specialFeatureName=void 0,$("#deleteConfirmDialog").modal("hide")}setSpecialFeatureViewer(t,_){switch(this.specialFeatureAssociatedDeviceName=t.name,this.specialFeatureName=_,this.specialFeatureName){case this.FEATURE_AUTOEVENT:this.autoEvents=t.autoEvents}}isCheckedAll(){let t=!0;return this.deviceList&&0===this.deviceList.length&&(t=!1),this.deviceList.forEach(_=>{-1===this.selectedDevice.findIndex(n=>n.name===_.name)&&(t=!1)}),t}selectAll(t){this.deviceList.forEach(t.target.checked?n=>{-1===this.selectedDevice.findIndex(s=>s.name===n.name)&&this.selectedDevice.push(n)}:n=>{this.selectedDevice.forEach((s,a)=>{s.name===n.name&&this.selectedDevice.splice(a,1)})})}isChecked(t){return this.selectedDevice.findIndex(_=>_.id===t)>=0}selectOne(t,_){t.target.checked?this.selectedDevice.push(_):this.selectedDevice.forEach((s,a)=>{s.name===_.name&&this.selectedDevice.splice(a,1)})}onPageSelected(){this.resetPagination(),this.getDeviceList()}prePage(){this.setPagination(-1),this.getDeviceList()}nextPage(){this.setPagination(1),this.getDeviceList()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.pageOffset=(this.pagination-1)*this.pageLimit}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.D),e.Y36(b.e),e.Y36(A.gz),e.Y36(A.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-list"]],inputs:{toolbars:"toolbars",enableSelectAll:"enableSelectAll"},decls:98,vars:12,consts:function(){let c,t,_,n,s,a,E,f,C,S,O,T,v,V,D,g,U,J,F,z,Q,N,Te,Ae,ge,Ce,Se,pe,Ie,fe,ue,ve;return c="Refresh",t="Add",_="Edit",n="Delete",s="ID",a="Name",E="Description",f="Labels",C="AdminState",S="OperatingState",O="Command",T="AutoEvents",v="AssociatedProfile",V="AssociatedService",D="items per page",g="Previous",U="Next",J="Warning",F=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",z="Cancel",Q="Confirm",N="DeviceService",Te="Associated Device List",Ae="DeviceProfile",ge="Associated Device List",Ce="Device List",Se="Associated AutoEvents",pe="Resource",Ie="Interval",fe="Onchange",ue="Associated AutoEvents",ve="no associated AutoEvents",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-list","text-danger","mr-2"],[4,"ngIf"],[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],["data-testid","device-list-refresh-btn",1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],c,["type","button","routerLink","../add-device",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],t,["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],_,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],n,[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],s,a,E,f,C,S,O,T,v,V,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],D,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],g,[1,"page-item"],U,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],J,[1,"modal-body"],F,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],z,["type","button",1,"btn","btn-danger",3,"click"],Q,[1,"mr-1"],N,[1,"text-danger","mr-1"],Te,Ae,ge,Ce,[1,"user-select-all"],[3,"ngSwitch"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-danger",4,"ngSwitchDefault"],[1,"text-center"],["class","badge badge-danger",4,"ngSwitchCase"],["role","button",1,"badge","badge-primary","text-light",3,"click"],[1,"fa","fa-terminal","font-weight-bolder"],[1,"fa","fa-calendar-check-o","font-weight-bolder"],["routerLink","../../device-profile-center",3,"queryParams"],["routerLink","../../device-service-list"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[4,"ngIf","ngIfElse"],["noAutoEvents",""],[1,"card","mt-3"],[1,"card-header"],[1,"badge","badge-danger","text-light"],[1,"text-primary","mx-2","font-weight-bold"],Se,[1,"card-body","p-0"],pe,Ie,fe,[4,"ngFor","ngForOf"],[1,"badge","badge-secondary","badge-pill"],[1,""],ue,[1,"card-body","text-center"],[1,"text-warning"],ve,[3,"deviceName"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.YNc(3,Re,7,1,"span",3),e.YNc(4,Ze,7,1,"span",3),e.YNc(5,Ve,2,0,"span",3),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"button",7),e.NdJ("click",function(){return _.refresh()}),e.TgZ(10,"span"),e._UZ(11,"i",8),e.TgZ(12,"span"),e.SDv(13,9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"button",10),e.TgZ(15,"span"),e._UZ(16,"i",11),e.TgZ(17,"span"),e.SDv(18,12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return _.edit()}),e.TgZ(20,"span"),e._UZ(21,"i",14),e.TgZ(22,"span"),e.SDv(23,15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"button",16),e.NdJ("click",function(){return _.deleteConfirm()}),e.TgZ(25,"span"),e._UZ(26,"i",17),e.TgZ(27,"span"),e.SDv(28,18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",19),e.TgZ(30,"table",20),e.TgZ(31,"thead",21),e.TgZ(32,"tr"),e.TgZ(33,"th",22),e.TgZ(34,"input",23),e.NdJ("click",function(s){return _.selectAll(s)}),e.qZA(),e.qZA(),e.TgZ(35,"th",22),e.SDv(36,24),e.qZA(),e.TgZ(37,"th",22),e.SDv(38,25),e.qZA(),e.TgZ(39,"th",22),e.SDv(40,26),e.qZA(),e.TgZ(41,"th",22),e.SDv(42,27),e.qZA(),e.TgZ(43,"th",22),e.SDv(44,28),e.qZA(),e.TgZ(45,"th",22),e.SDv(46,29),e.qZA(),e.TgZ(47,"th",22),e.SDv(48,30),e.qZA(),e.TgZ(49,"th",22),e.SDv(50,31),e.qZA(),e.TgZ(51,"th",22),e.SDv(52,32),e.qZA(),e.TgZ(53,"th",22),e.SDv(54,33),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"tbody"),e.YNc(56,We,32,21,"tr",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",35),e.TgZ(58,"nav",36),e.TgZ(59,"ul",37),e.TgZ(60,"li",38),e.TgZ(61,"span",39),e.SDv(62,40),e.qZA(),e.qZA(),e.TgZ(63,"li",41),e.TgZ(64,"select",42),e.NdJ("ngModelChange",function(s){return _.pageLimit=s})("ngModelChange",function(){return _.onPageSelected()}),e.TgZ(65,"option",43),e._uU(66,"5"),e.qZA(),e.TgZ(67,"option",44),e._uU(68,"10"),e.qZA(),e.TgZ(69,"option",45),e._uU(70,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"li",46),e.TgZ(72,"button",47),e.NdJ("click",function(){return _.prePage()}),e._UZ(73,"i",48),e.TgZ(74,"span"),e.SDv(75,49),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"li",50),e.TgZ(77,"button",47),e.NdJ("click",function(){return _.nextPage()}),e.TgZ(78,"span"),e.SDv(79,51),e.qZA(),e._UZ(80,"i",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(81,He,4,2,"div",3),e.YNc(82,ke,2,1,"div",3),e.TgZ(83,"div",53),e.TgZ(84,"div",54),e.TgZ(85,"div",55),e.TgZ(86,"div",56),e.TgZ(87,"h5",57),e._UZ(88,"i",58),e.TgZ(89,"span"),e.SDv(90,59),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",60),e.SDv(92,61),e.qZA(),e.TgZ(93,"div",62),e.TgZ(94,"button",63),e.SDv(95,64),e.qZA(),e.TgZ(96,"button",65),e.NdJ("click",function(){return _.delete()}),e.SDv(97,66),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",""!==_.associatedSvcName),e.xp6(1),e.Q6J("ngIf",""!==_.associatedProfileName),e.xp6(1),e.Q6J("ngIf",""===_.associatedProfileName&&""===_.associatedSvcName),e.xp6(14),e.Q6J("disabled",1!==_.selectedDevice.length),e.xp6(5),e.Q6J("disabled",0===_.selectedDevice.length),e.xp6(10),e.Q6J("checked",_.isCheckedAll()),e.xp6(22),e.Q6J("ngForOf",_.deviceList),e.xp6(8),e.Q6J("ngModel",_.pageLimit),e.xp6(8),e.Q6J("disabled",1===_.pagination),e.xp6(5),e.Q6J("disabled",_.pageLimit>_.deviceList.length),e.xp6(4),e.Q6J("ngIf",_.specialFeatureName===_.FEATURE_AUTOEVENT),e.xp6(1),e.Q6J("ngIf",_.specialFeatureName===_.FEATURE_COMMAND))},directives:[o.O5,A.rH,o.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr,o.RF,o.n9,o.ED,A.yS,he],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),i})();class Je{constructor(){this.Schema="",this.Host="",this.Port="",this.User="",this.Password="",this.ClientId="",this.CommandTopic=""}}class Fe{constructor(){this.Address="",this.Port="",this.UnitID="",this.Timeout="",this.IdleTimeout=""}}class ze{constructor(){this.Address="",this.UnitID="",this.BaudRate="",this.DataBits="",this.StopBits="",this.Parity="",this.Timeout="",this.IdleTimeout=""}}class Qe{constructor(){this.Address="",this.Port=""}}class Ye{constructor(){this.Address="",this.Port="",this.MACAddress=""}}class Be{constructor(){this.host="",this.port=""}}function Ke(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"span",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return n.changeProtocolTemplateMode(n.TEMPLATE_BUILT_IN)}),e._UZ(2,"i",12),e.TgZ(3,"span"),e.SDv(4,13),e.qZA(),e.qZA(),e.TgZ(5,"span",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return n.changeProtocolTemplateMode(n.TEMPLATE_CUSTOM)}),e._UZ(6,"i",12),e.TgZ(7,"span"),e.SDv(8,15),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.ekj("badge-primary",t.protocolTemplateMode===t.TEMPLATE_BUILT_IN)("badge-secondary",t.protocolTemplateMode!==t.TEMPLATE_BUILT_IN),e.xp6(1),e.ekj("fa-check-square",t.protocolTemplateMode===t.TEMPLATE_BUILT_IN),e.xp6(3),e.ekj("badge-primary",t.protocolTemplateMode===t.TEMPLATE_CUSTOM)("badge-secondary",t.protocolTemplateMode!==t.TEMPLATE_CUSTOM),e.xp6(1),e.ekj("fa-check-square",t.protocolTemplateMode===t.TEMPLATE_CUSTOM)}}function je(i,c){1&i&&e._UZ(0,"div")}function et(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"form",34),e.TgZ(2,"div",35),e.TgZ(3,"div",36),e.TgZ(4,"span",37),e.SDv(5,38),e.qZA(),e.qZA(),e._UZ(6,"input",39),e.qZA(),e.TgZ(7,"div",40),e._UZ(8,"i",41),e.qZA(),e.TgZ(9,"div",35),e.TgZ(10,"div",36),e.TgZ(11,"span",37),e.SDv(12,42),e.qZA(),e.qZA(),e.TgZ(13,"input",43),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).$implicit;return e.oxw(4).builtinProtocolTemplateSelected[a]=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=c.$implicit,_=e.oxw(4);e.xp6(6),e.Q6J("value",t),e.xp6(7),e.Q6J("ngModel",_.builtinProtocolTemplateSelected[t])}}function tt(i,c){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,et,14,2,"div",33),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.builtinProtocolTemplateProperties)}}function _t(i,c){1&i&&(e.TgZ(0,"h5",48),e._UZ(1,"i",49),e.TgZ(2,"span"),e.SDv(3,50),e.qZA(),e.qZA())}function it(i,c){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"span",44),e.TgZ(2,"span",45),e.SDv(3,46),e.qZA(),e.qZA(),e.YNc(4,_t,4,0,"h5",47)),2&i){const t=e.oxw(3);e.xp6(4),e.Q6J("ngIf",0===t.builtinProtocolTemplateProperties.length&&t.builtinProtocolName)}}function nt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"div",17),e.TgZ(2,"form"),e.TgZ(3,"div",18),e.TgZ(4,"label"),e.SDv(5,19),e.qZA(),e.TgZ(6,"select",20),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(2).builtinProtocolName=n})("ngModelChange",function(){return e.CHM(t),e.oxw(2).onSelectBuiltinProtocolTemplate()}),e.TgZ(7,"option",21),e._uU(8,"device-mqtt"),e.qZA(),e.TgZ(9,"option",22),e._uU(10,"device-rest"),e.qZA(),e.TgZ(11,"option",23),e._uU(12,"device-virtual"),e.qZA(),e.TgZ(13,"option",24),e._uU(14,"device-modbus-tcp"),e.qZA(),e.TgZ(15,"option",25),e._uU(16,"device-modbus-rtu"),e.qZA(),e.TgZ(17,"option",26),e._uU(18,"device-onvif-camera"),e.qZA(),e.TgZ(19,"option",27),e._uU(20,"device-rfid-llrp"),e.qZA(),e.qZA(),e.TgZ(21,"div",28),e.TgZ(22,"small"),e.SDv(23,29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",30),e.YNc(25,tt,2,1,"div",31),e.YNc(26,it,5,1,"ng-template",null,32,e.W1O),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(27),_=e.oxw(2);e.xp6(6),e.ekj("is-invalid",!_.builtinProtocolName)("is-valid",_.builtinProtocolName),e.Q6J("ngModel",_.builtinProtocolName),e.xp6(19),e.Q6J("ngIf",0!==_.builtinProtocolTemplateProperties.length)("ngIfElse",t)}}function ot(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"form",34),e.TgZ(2,"div",35),e.TgZ(3,"div",36),e.TgZ(4,"span",37),e.SDv(5,60),e.qZA(),e.qZA(),e.TgZ(6,"input",61),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.propertyName=n}),e.qZA(),e.qZA(),e.TgZ(7,"div",40),e._UZ(8,"i",41),e.qZA(),e.TgZ(9,"div",35),e.TgZ(10,"div",36),e.TgZ(11,"span",37),e.SDv(12,62),e.qZA(),e.qZA(),e.TgZ(13,"input",63),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.propertyValue=n}),e.qZA(),e.qZA(),e.TgZ(14,"div",64),e.TgZ(15,"button",65),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(3).removeCustomProtocolProperty(s)}),e._UZ(16,"i",66),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=c.$implicit;e.xp6(6),e.Q6J("ngModel",t.propertyName),e.xp6(7),e.Q6J("ngModel",t.propertyValue)}}function st(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"div",51),e.TgZ(2,"div",18),e.TgZ(3,"label"),e.SDv(4,52),e.qZA(),e.TgZ(5,"input",53),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(2).customProtocolName=n})("ngModelChange",function(){return e.CHM(t),e.oxw(2).onCustomProtocolNameChange()}),e.qZA(),e.TgZ(6,"div",28),e.TgZ(7,"small"),e.SDv(8,54),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",55),e.TgZ(10,"div"),e.TgZ(11,"p",56),e._UZ(12,"span",57),e.TgZ(13,"span",58),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCustomProtocolProperty()}),e.SDv(14,59),e.qZA(),e.qZA(),e.qZA(),e.YNc(15,ot,17,2,"div",33),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.ekj("is-invalid",!t.customProtocolName)("is-valid",t.customProtocolName),e.Q6J("ngModel",t.customProtocolName),e.xp6(10),e.Q6J("ngForOf",t.customProtocolPropertyBearer)}}function ct(i,c){if(1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",4),e.YNc(2,Ke,9,12,"div",6),e.YNc(3,je,1,0,"div",7),e.YNc(4,nt,28,7,"ng-template",null,8,e.W1O),e.YNc(6,st,16,6,"ng-template",null,9,e.W1O),e.qZA(),e.qZA()),2&i){const t=e.MAs(5),_=e.MAs(7),n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.mode===n.MODE_ADD),e.xp6(1),e.Q6J("ngIf",n.protocolTemplateMode===n.TEMPLATE_CUSTOM)("ngIfThen",_)("ngIfElse",t)}}let ce=(()=>{class i{constructor(){this.MODE_ADD="add",this.MODE_EDIT="edit",this.deviceProtocols={},this.isValid=!1,this.isValidChange=new e.vpe,this.TEMPLATE_CUSTOM="custom",this.TEMPLATE_BUILT_IN="built-in",this.customProtocolPropertyBearer=[],this.builtinProtocolTemplateProperties=[]}ngOnInit(){if(this.mode){if(this.mode==this.MODE_EDIT)return this.protocolTemplateMode=this.TEMPLATE_CUSTOM,this.extractProtocolName(),this.customProtocolName=this.protocolName?this.protocolName:"",void this.setCustomProtocolPropertysBearer();this.mode==this.MODE_ADD&&(this.protocolTemplateMode=this.TEMPLATE_BUILT_IN),this.validate()}}extractProtocolName(){!this.deviceProtocols||0===Object.keys(this.deviceProtocols).length||(this.protocolName=Object.keys(this.deviceProtocols)[0])}onSelectBuiltinProtocolTemplate(){switch(this.validate(),this.builtinProtocolName){case"mqtt":this.builtinProtocolTemplateSelected=new Je;break;case"modbus-tcp":this.builtinProtocolTemplateSelected=new Fe;break;case"modbus-rtu":this.builtinProtocolTemplateSelected=new ze;break;case"other":this.builtinProtocolTemplateSelected=new Qe;break;case"other-rest":this.builtinProtocolTemplateSelected={};break;case"Onvif":this.builtinProtocolTemplateSelected=new Ye;break;case"tcp":this.builtinProtocolTemplateSelected=new Be;break;default:this.builtinProtocolTemplateSelected={}}this.builtinProtocolTemplateProperties=Object.keys(this.builtinProtocolTemplateSelected)}changeProtocolTemplateMode(t){this.protocolTemplateMode=t,this.validate()}onCustomProtocolNameChange(){this.validate()}setCustomProtocolPropertysBearer(){if(this.customProtocolName)for(const[t,_]of Object.entries(this.deviceProtocols[this.customProtocolName]))this.customProtocolPropertyBearer.push({propertyName:t,propertyValue:_})}addCustomProtocolProperty(){this.customProtocolPropertyBearer.push({propertyName:"",propertyValue:""})}removeCustomProtocolProperty(t){this.customProtocolPropertyBearer.splice(this.customProtocolPropertyBearer.indexOf(t),1)}getDeviceProtocols(){if(this.deviceProtocols={},this.protocolTemplateMode===this.TEMPLATE_BUILT_IN)this.deviceProtocols[this.builtinProtocolName]=Object.assign({},this.builtinProtocolTemplateSelected);else{let t={};this.customProtocolPropertyBearer.forEach(_=>{t[_.propertyName]=_.propertyValue}),this.deviceProtocols[this.customProtocolName]=t}return this.deviceProtocols}validate(){switch(this.isValid=!0,this.protocolTemplateMode){case this.TEMPLATE_BUILT_IN:this.builtinProtocolName||(this.isValid=!1);break;default:this.customProtocolName||(this.isValid=!1)}this.isValidChange.emit(this.isValid)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-protocol"]],inputs:{mode:"mode",deviceProtocols:"deviceProtocols",isValid:"isValid"},outputs:{isValidChange:"isValidChange"},decls:7,vars:1,consts:function(){let c,t,_,n,s,a,E,f,C,S,O,T,v,V;return c="Device Protocol",t="Avaliable Protocol Templates",_="Custom Protocol Templates",n="Protocol Name",s="the protocol name can't be empty!",a="PropertyName",E="PropertyVaule",f=" all built-in protocol templates refer to the device service released by edgex, such as device-virtual, device-rest, device-mqtt, device-modbus ",C="this device service doesn't need to set protocol properties",S="Protocol Name",O="the protocol name can't be empty!",T="Add Protocol Property",v="PropertyName",V="PropertyValue",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-tags","fa-lg","text-danger","mr-1"],c,[1,"card-body"],["class","card",4,"ngIf"],["class","mb-2",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["builtinProtocolTemplate",""],["customProtocolTemplate",""],[1,"mb-2"],["role","button",1,"user-select-none","badge","font-weight-bold","mr-3",3,"click"],[1,"fa","fa-square-o","mr-1"],t,["role","button",1,"user-select-none","badge","font-weight-bold",3,"click"],_,[1,"row","border","border-secondary","p-2","rounded-lg","mx-1"],[1,"col-md-2","border-right","border-info"],[1,"form-group"],n,["type","text","name","builtinProtocolName","required","",1,"custom-select",3,"ngModel","ngModelChange"],["value","mqtt"],["value","other-rest"],["value","other"],["value","modbus-tcp"],["value","modbus-rtu"],["value","Onvif"],["value","tcp"],[1,"invalid-feedback"],s,[1,"col-md-10"],[4,"ngIf","ngIfElse"],["noBuiltinProperties",""],[4,"ngFor","ngForOf"],[1,"form-inline","mb-1"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],a,["type","text","disabled","",1,"form-control",2,"width","300px",3,"value"],[1,"form-group","mx-2"],[1,"fa","fa-long-arrow-right"],E,["type","text","name","property",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange"],[1,"fa","fa-info-circle","fa-lg","text-success","font-weight-bold","mr-1"],[1,"text-muted"],f,["class","text-warning",4,"ngIf"],[1,"text-warning"],[1,"fa","fa-warning","mr-1"],C,[1,"col-md-2","col-lg-2","border-right","border-secondary"],S,["type","text","name","customProtocolName",1,"form-control",3,"ngModel","ngModelChange"],O,[1,"col-md-10","col-lg-10"],[1,"badge","badge-secondary","font-weight-bold"],[1,"fa","fa-plus-circle","mr-2"],["role","button",1,"user-select-none",3,"click"],T,v,["type","text","name","propertyName",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange"],V,["type","text","name","PropertyValue",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange"],[1,"input-group","ml-2"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,ct,8,4,"div",5),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngIf",_.mode))},directives:[o.O5,l._Y,l.JL,l.F,l.EJ,l.Q7,l.JJ,l.On,l.YN,l.Kr,o.sg,l.Fj],styles:[""]}),i})();var G=I(4889);function at(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",35),e.NdJ("click",function(n){const a=e.CHM(t).$implicit;return e.oxw().selectOneSvc(n,a.name)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"date"),e.qZA(),e.qZA()}if(2&i){const t=c.$implicit,_=e.oxw();e.ekj("table-active",_.isSvcChecked(t.name)),e.xp6(2),e.Q6J("checked",_.isSvcChecked(t.name)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.labels),e.xp6(2),e.Oqu(t.adminState),e.xp6(2),e.Oqu(e.xi3(15,10,t.created,"yyyy-MM-dd hh:mm:ss")),e.xp6(3),e.Oqu(e.xi3(18,13,t.modified,"yyyy-MM-dd hh:mm:ss"))}}let ae=(()=>{class i{constructor(t){this.metaSvc=t,this.singleDeviceSvcSelectedEvent=new e.vpe,this.deviceServiceList=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.findAllDeviceSvcPagination()}findAllDeviceSvcPagination(){this.metaSvc.findAllDeviceServicesPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.deviceServiceList=t.services})}onSingleDeviceSvcSelectedEmitter(){this.singleDeviceSvcSelectedEvent.emit(this.deviceSvcSelected)}isSvcChecked(t){var _;return(null===(_=this.deviceSvcSelected)||void 0===_?void 0:_.name)===t}selectOneSvc(t,_){let s=this;t.target.checked?this.deviceServiceList.forEach(function(a){a.name===_&&(s.deviceSvcSelected=a)}):this.deviceSvcSelected=void 0,this.onSingleDeviceSvcSelectedEmitter()}onPageSelected(){this.resetPagination(),this.setPagination(),this.findAllDeviceSvcPagination()}prePage(){this.setPagination(-1),this.findAllDeviceSvcPagination()}nextPage(){this.setPagination(1),this.findAllDeviceSvcPagination()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.D))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-service-list"]],inputs:{deviceSvcSelected:"deviceSvcSelected"},outputs:{singleDeviceSvcSelectedEvent:"singleDeviceSvcSelectedEvent"},decls:52,vars:4,consts:function(){let c,t,_,n,s,a,E,f,C,S,O;return c="Device Service List",t="ID",_="Name",n="Description",s="Labels",a="AdminState",E="Created",f="Modified",C="items per page",S="Previous",O="Next",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-list","mr-2","text-danger"],c,[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],t,_,n,s,a,E,f,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],C,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],S,[1,"page-item"],O,[1,"fa","fa-angle-double-right","ml-1"],["type","checkbox","role","button",3,"checked","click"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"table",6),e.TgZ(8,"thead",7),e.TgZ(9,"tr"),e.TgZ(10,"th",8),e._uU(11,"#"),e.qZA(),e.TgZ(12,"th",8),e.SDv(13,9),e.qZA(),e.TgZ(14,"th",8),e.SDv(15,10),e.qZA(),e.TgZ(16,"th",8),e.SDv(17,11),e.qZA(),e.TgZ(18,"th",8),e.SDv(19,12),e.qZA(),e.TgZ(20,"th",8),e.SDv(21,13),e.qZA(),e.TgZ(22,"th",8),e.SDv(23,14),e.qZA(),e.TgZ(24,"th",8),e.SDv(25,15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,at,19,16,"tr",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",17),e.TgZ(29,"nav",18),e.TgZ(30,"ul",19),e.TgZ(31,"li",20),e.TgZ(32,"span",21),e.SDv(33,22),e.qZA(),e.qZA(),e.TgZ(34,"li",23),e.TgZ(35,"select",24),e.NdJ("ngModelChange",function(s){return _.pageLimit=s})("ngModelChange",function(){return _.onPageSelected()}),e.TgZ(36,"option",25),e._uU(37,"5"),e.qZA(),e.TgZ(38,"option",26),e._uU(39,"10"),e.qZA(),e.TgZ(40,"option",27),e._uU(41,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"li",28),e.TgZ(43,"button",29),e.NdJ("click",function(){return _.prePage()}),e._UZ(44,"i",30),e.TgZ(45,"span"),e.SDv(46,31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"li",32),e.TgZ(48,"button",29),e.NdJ("click",function(){return _.nextPage()}),e.TgZ(49,"span"),e.SDv(50,33),e.qZA(),e._UZ(51,"i",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(27),e.Q6J("ngForOf",_.deviceServiceList),e.xp6(8),e.Q6J("ngModel",_.pageLimit),e.xp6(8),e.Q6J("disabled",1===_.pagination),e.xp6(5),e.Q6J("disabled",_.pageLimit>_.deviceServiceList.length))},directives:[o.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr],pipes:[o.uU],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),i})();var k=I(2822);function lt(i,c){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=c.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function rt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",4),e.TgZ(2,"form"),e.TgZ(3,"div",11),e.TgZ(4,"label",12),e.SDv(5,13),e.qZA(),e.TgZ(6,"div",14),e.TgZ(7,"div",15),e.TgZ(8,"input",16),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.interval=n})("ngModelChange",function(){return e.CHM(t),e.oxw().onValueChange()}),e.qZA(),e.TgZ(9,"div",17),e.TgZ(10,"select",18),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.unit=n})("ngModelChange",function(){return e.CHM(t),e.oxw().onValueChange()}),e.TgZ(11,"option",19),e._uU(12,"millisecond"),e.qZA(),e.TgZ(13,"option",20),e._uU(14,"second"),e.qZA(),e.TgZ(15,"option",21),e._uU(16,"minute"),e.qZA(),e.TgZ(17,"option",22),e._uU(18,"hour"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",23),e.SDv(20,24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",25),e.TgZ(22,"label",12),e.SDv(23,26),e.qZA(),e.TgZ(24,"div",14),e.TgZ(25,"select",27),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.onChange=n})("ngModelChange",function(){return e.CHM(t),e.oxw().onValueChange()}),e.TgZ(26,"option",28),e._uU(27,"true"),e.qZA(),e.TgZ(28,"option",29),e._uU(29,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",25),e.TgZ(31,"label",12),e.SDv(32,30),e.qZA(),e.TgZ(33,"div",14),e.TgZ(34,"select",31),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.resource=n})("ngModelChange",function(){return e.CHM(t),e.oxw().onValueChange()}),e.YNc(35,lt,2,2,"option",32),e.qZA(),e.TgZ(36,"div",23),e.SDv(37,33),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"button",34),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().removeAutoEvent(s)}),e._UZ(39,"i",35),e.TgZ(40,"span"),e.SDv(41,36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=c.$implicit,_=e.oxw();e.xp6(8),e.ekj("is-invalid",!_.eventIntervalNumType(t.interval))("is-valid",_.eventIntervalNumType(t.interval)),e.Q6J("ngModel",t.interval),e.xp6(2),e.Q6J("ngModel",t.unit),e.xp6(15),e.Q6J("ngModel",t.onChange),e.xp6(9),e.ekj("is-invalid",""===t.resource)("is-valid",""!==t.resource),e.Q6J("ngModel",t.resource),e.xp6(1),e.Q6J("ngForOf",_.autoEventResourceNameSet)}}let de=(()=>{class i{constructor(){this.autoEvents=[],this.autoEventsChange=new e.vpe,this.isValid=!1,this.isValidChange=new e.vpe,this.autoEventDecoratorBearer=[],this.autoEventResourceNameSet=[]}ngOnInit(){}ngOnChanges(){this.resetAutoEventDecoratorBearer(),this.setAutoEventDecorator(this.autoEvents),this.setupAutoEventResourceNameSet(this.deviceProfile),this.resumeOriginalAutoEvents()}onValueChange(){this.resumeOriginalAutoEvents()}resetAutoEventDecoratorBearer(){this.autoEventDecoratorBearer.splice(0,this.autoEventDecoratorBearer.length)}addAutoEvent(){this.autoEventDecoratorBearer.push({interval:"",onChange:!1,resource:"",unit:"ms"}),this.resumeOriginalAutoEvents()}removeAutoEvent(t){this.autoEventDecoratorBearer.splice(this.autoEventDecoratorBearer.indexOf(t),1),this.resumeOriginalAutoEvents()}setupAutoEventResourceNameSet(t){!t||(this.autoEventResourceNameSet.splice(0,this.autoEventResourceNameSet.length),t.deviceResources.forEach((_,n)=>{this.autoEventResourceNameSet.push(_.name)}),t.deviceCommands.forEach((_,n)=>{this.autoEventResourceNameSet.push(_.name)}))}eventIntervalNumType(t){return!isNaN(t)&&parseFloat(t)===parseInt(t)}setAutoEventDecorator(t){!t||t.forEach(_=>{let n=0;-1!==_.interval.indexOf("ms")?n=_.interval.indexOf("ms"):-1!==_.interval.indexOf("s")?n=_.interval.indexOf("s"):-1!==_.interval.indexOf("m")?n=_.interval.indexOf("m"):-1!==_.interval.indexOf("h")&&(n=_.interval.indexOf("h")),this.autoEventDecoratorBearer.push({interval:_.interval.slice(0,n),onChange:!!_.onChange&&_.onChange,resource:_.sourceName,unit:_.interval.substring(n)})})}resumeOriginalAutoEvents(){this.autoEvents?this.autoEvents.splice(0,this.autoEvents.length):this.autoEvents=[],this.autoEventDecoratorBearer.forEach(t=>{this.autoEvents.push({interval:`${t.interval}${t.unit}`,onChange:!!t.onChange,sourceName:t.resource})}),this.validate(),this.autoEventsChange.emit(this.autoEvents)}validate(){this.isValid=!0,0!==this.autoEventDecoratorBearer.length&&this.autoEventDecoratorBearer.forEach(t=>{this.eventIntervalNumType(t.interval)&&""!==t.resource||(this.isValid=!1)}),this.isValidChange.emit(this.isValid)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-auto-event"]],inputs:{autoEvents:"autoEvents",deviceProfile:"deviceProfile",isValid:"isValid"},outputs:{autoEventsChange:"autoEventsChange",isValidChange:"isValidChange"},features:[e.TTD],decls:11,vars:1,consts:function(){let c,t,_,n,s,a,E,f;return c="AutoEvents",t="Add More AutoEvent",_="Interval",n=" can only be a pure integer number ",s="onchange",a="resource",E=" resource can't be empty ",f="Remove",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-tags","fa-lg","text-danger","mr-1"],c,[1,"card-body"],[1,"badge","badge-secondary","font-weight-bold"],[1,"fa","fa-plus-circle","mr-2"],["role","button",1,"user-select-none",3,"click"],t,["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"form-group","row","has-validation"],[1,"col-md-2","col-form-label"],_,[1,"col-md-10"],[1,"input-group","mb-3",2,"width","250px"],["type","text","name","interval","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["name","eventIntervalUnit","required","",1,"custom-select",3,"ngModel","ngModelChange"],["value","ms"],["value","s"],["value","m"],["value","h"],[1,"invalid-feedback"],n,[1,"form-group","row"],s,["name","onchange",1,"custom-select",2,"width","250px",3,"ngModel","ngModelChange"],["value","true"],["value","false"],a,["name","resource","required","",1,"custom-select",2,"width","250px",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],E,[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash","mr-1"],f,[3,"value"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"p",5),e._UZ(7,"span",6),e.TgZ(8,"span",7),e.NdJ("click",function(){return _.addAutoEvent()}),e.SDv(9,8),e.qZA(),e.qZA(),e.YNc(10,rt,42,13,"div",9),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngForOf",_.autoEventDecoratorBearer))},directives:[o.sg,l._Y,l.JL,l.F,l.Fj,l.Q7,l.JJ,l.On,l.EJ,l.YN,l.Kr],styles:[""]}),i})();function dt(i,c){1&i&&e._UZ(0,"i",33)}function Et(i,c){1&i&&e._UZ(0,"i",33)}function Tt(i,c){1&i&&e._UZ(0,"i",33)}function At(i,c){1&i&&e._UZ(0,"i",33)}function gt(i,c){1&i&&e._UZ(0,"i",33)}function Ct(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().previous()}),e._UZ(1,"i",35),e.TgZ(2,"span"),e.SDv(3,36),e.qZA(),e.qZA()}}function St(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e.TgZ(1,"span"),e.SDv(2,38),e.qZA(),e._UZ(3,"i",39),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.stepStateLock())}}function pt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._UZ(1,"i",41),e.TgZ(2,"span"),e.SDv(3,42),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.stepStateLock())}}function It(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"app-device-service-list",44),e.NdJ("singleDeviceSvcSelectedEvent",function(n){return e.CHM(t),e.oxw().onSingleDeviceSvcSelected(n)}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("deviceSvcSelected",t.selectedSvc)}}function ft(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"app-device-profile-list",45),e.NdJ("singleProfileSelectedEvent",function(n){return e.CHM(t),e.oxw().onSingleProfileSelected(n)}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("singleProfileSelected",t.selectedProfile)("enableSelectAll",!1)("toolbars",!1)("associatedDeviceColumn",!1)}}function ut(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"form",46),e.TgZ(1,"div",47),e.TgZ(2,"label",48),e.SDv(3,49),e.qZA(),e.TgZ(4,"div",50),e.TgZ(5,"input",51),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newDevice.name=n}),e.qZA(),e.TgZ(6,"div",52),e.TgZ(7,"small"),e.SDv(8,53),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",54),e.TgZ(10,"label",55),e.SDv(11,56),e.qZA(),e.TgZ(12,"div",50),e.TgZ(13,"input",57),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newDevice.description=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",54),e.TgZ(15,"label",58),e.SDv(16,59),e.qZA(),e.TgZ(17,"div",50),e.TgZ(18,"input",60),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().deviceLabels=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",54),e.TgZ(20,"label",61),e.SDv(21,62),e.qZA(),e.TgZ(22,"div",50),e.TgZ(23,"select",63),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newDevice.adminState=n}),e.TgZ(24,"option",64),e._uU(25,"UNLOCKED"),e.qZA(),e.TgZ(26,"option",65),e._uU(27,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.ekj("is-invalid",!t.newDevice.name)("is-valid",t.newDevice.name),e.Q6J("ngModel",t.newDevice.name),e.xp6(8),e.Q6J("ngModel",t.newDevice.description),e.xp6(5),e.Q6J("ngModel",t.deviceLabels),e.xp6(5),e.Q6J("ngModel",t.newDevice.adminState)}}function vt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",30),e.TgZ(1,"div",1),e.TgZ(2,"span",66),e.SDv(3,67),e.qZA(),e.qZA(),e.TgZ(4,"div",31),e.TgZ(5,"app-device-auto-event",68),e.NdJ("autoEventsChange",function(n){return e.CHM(t),e.oxw().newDevice.autoEvents=n})("isValidChange",function(n){return e.CHM(t),e.oxw().isAutoEventsValid=n}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("deviceProfile",t.selectedProfile)("autoEvents",t.newDevice.autoEvents)("isValid",t.isAutoEventsValid)}}let mt=(()=>{class i{constructor(t,_,n,s,a){this.metaSvc=t,this.msgSvc=_,this.errorSvc=n,this.router=s,this.route=a,this.deviceLabels="",this.currentStep=0,this.selectedClass="text-white rounded px-2 bg-success  font-weight-bold",this.noSelectedClass="text-white rounded px-2 bg-secondary  font-weight-bold",this.isProtocolValid=!1,this.isAutoEventsValid=!1,this.newDevice={adminState:"UNLOCKED",operatingState:"UP"}}ngOnInit(){}onSingleProfileSelected(t){this.selectedProfile=t}onSingleDeviceSvcSelected(t){this.selectedSvc=t}stepStateLock(){switch(this.currentStep){case 0:return void 0===this.selectedSvc;case 1:return void 0===this.selectedProfile;case 2:return!this.newDevice.name;case 3:return!this.isAutoEventsValid;case 4:return!this.isProtocolValid;default:return!1}}next(){this.currentStep+=1}previous(){this.currentStep=this.currentStep-1}submit(){var t,_,n;this.newDevice.labels=null===(t=this.deviceLabels)||void 0===t?void 0:t.split(","),this.newDevice.serviceName=null===(_=this.selectedSvc)||void 0===_?void 0:_.name,this.newDevice.profileName=null===(n=this.selectedProfile)||void 0===n?void 0:n.name,this.newDevice.protocols=this.deviceProtocols.getDeviceProtocols(),this.metaSvc.addDevice(this.newDevice).subscribe(s=>{this.errorSvc.handleErrorForAPI(s)||(this.msgSvc.success("Add device",`name: ${this.newDevice.name}`),this.router.navigate(["../device-list"],{relativeTo:this.route}))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.D),e.Y36(b.e),e.Y36(G.T),e.Y36(A.F0),e.Y36(A.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-device"]],viewQuery:function(t,_){if(1&t&&e.Gf(ce,5),2&t){let n;e.iGM(n=e.CRH())&&(_.deviceProtocols=n.first)}},decls:54,vars:22,consts:function(){let c,t,_,n,s,a,E,f,C,S,O,T,v,V,D;return c="Add Device Wizard",t="SelectDeviceService",_="SelectDeviceProfile",n="DevicePrimary",s="CreateAutoEvent",a="CreateDeviceProtocol",E="Previous",f="Next",C="Submit",S="Name",O="the device name can't be empty!",T="Description",v="Labels",V="AdminState",D=" this step is optional, you can skip it then set it later in edit mode.",[[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"fa","fa-lightbulb-o","fa-lg","mr-2","text-danger"],[1,"text-secondary"],c,[1,"card-header","py-2"],["aria-label","breadcrumb",1,"mb-0","p-0"],[1,"breadcrumb","p-1","mb-0","bg-light"],[1,"breadcrumb-item"],[3,"ngClass"],t,["class","fa fa-check ml-1",4,"ngIf"],_,n,s,[1,"breadcrumb-item","active"],a,[1,"card-header","py-1"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm float-right",3,"disabled","click",4,"ngIf","ngIfElse"],["stepDone",""],[1,"card-body","p-0"],[3,"ngSwitch"],[3,"ngSwitchCase"],["SelectDeviceService",""],["SelectDeviceProfile",""],["DevicePrimary",""],["CreateAutoEvent",""],["CreateDeviceProtocol",""],[1,"card","border-0"],[1,"card-body"],[3,"mode","isValid","isValidChange"],[1,"fa","fa-check","ml-1"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"fa","fa-long-arrow-left","mr-1"],E,[1,"btn","btn-primary","btn-sm","float-right",3,"disabled","click"],f,[1,"fa","fa-long-arrow-right","ml-1"],[1,"btn","btn-success","btn-sm","ml-4","float-right",3,"disabled","click"],[1,"fa","fa-save","mr-1"],C,[1,"p-2"],[3,"deviceSvcSelected","singleDeviceSvcSelectedEvent"],[3,"singleProfileSelected","enableSelectAll","toolbars","associatedDeviceColumn","singleProfileSelectedEvent"],[1,"px-5","py-4"],[1,"form-group","row","has-validation"],["for","deviceName","required","",1,"col-md-2","col-form-label"],S,[1,"col-md-10"],["type","text","id","validationDeviceNameFeedback","name","deviceName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationDeviceNameFeedback",1,"invalid-feedback"],O,[1,"form-group","row"],["for","deviceDesc",1,"col-md-2","col-form-label"],T,["type","text","name","deviceDescription",1,"form-control",3,"ngModel","ngModelChange"],["for","deviceLabels",1,"col-md-2","col-form-label"],v,["type","text","name","deviceLabels","placeholder","Multiple Labels are separated by commas: label1,label2,label3",1,"form-control",3,"ngModel","ngModelChange"],["for","adminState",1,"col-md-2","col-form-label"],V,["name","deviceAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],[1,"fa","fa-info-circle","text-warning","font-weight-bold"],D,[3,"deviceProfile","autoEvents","isValid","autoEventsChange","isValidChange"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e._UZ(3,"span",3),e.TgZ(4,"span",4),e.SDv(5,5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"nav",7),e.TgZ(8,"ol",8),e.TgZ(9,"li",9),e.TgZ(10,"span",10),e.TgZ(11,"span"),e.SDv(12,11),e.qZA(),e.YNc(13,dt,1,0,"i",12),e.qZA(),e.qZA(),e.TgZ(14,"li",9),e.TgZ(15,"span",10),e.TgZ(16,"span"),e.SDv(17,13),e.qZA(),e.YNc(18,Et,1,0,"i",12),e.qZA(),e.qZA(),e.TgZ(19,"li",9),e.TgZ(20,"span",10),e.TgZ(21,"span"),e.SDv(22,14),e.qZA(),e.YNc(23,Tt,1,0,"i",12),e.qZA(),e.qZA(),e.TgZ(24,"li",9),e.TgZ(25,"span",10),e.TgZ(26,"span"),e.SDv(27,15),e.qZA(),e.YNc(28,At,1,0,"i",12),e.qZA(),e.qZA(),e.TgZ(29,"li",16),e.TgZ(30,"span",10),e.TgZ(31,"span"),e.SDv(32,17),e.qZA(),e.YNc(33,gt,1,0,"i",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",18),e.YNc(35,Ct,4,0,"button",19),e.YNc(36,St,4,1,"button",20),e.YNc(37,pt,4,1,"ng-template",null,21,e.W1O),e.qZA(),e.TgZ(39,"div",22),e.TgZ(40,"div",23),e.YNc(41,It,2,1,"ng-template",24,25,e.W1O),e.YNc(43,ft,2,4,"ng-template",24,26,e.W1O),e.YNc(45,ut,28,8,"ng-template",24,27,e.W1O),e.YNc(47,vt,6,3,"ng-template",24,28,e.W1O),e.TgZ(49,"div",null,29),e.TgZ(51,"div",30),e.TgZ(52,"div",31),e.TgZ(53,"app-device-protocol",32),e.NdJ("isValidChange",function(s){return _.isProtocolValid=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.MAs(38);e.xp6(10),e.Q6J("ngClass",_.currentStep>=0?_.selectedClass:_.noSelectedClass),e.xp6(3),e.Q6J("ngIf",_.currentStep>=1),e.xp6(2),e.Q6J("ngClass",_.currentStep>=1?_.selectedClass:_.noSelectedClass),e.xp6(3),e.Q6J("ngIf",_.currentStep>=2),e.xp6(2),e.Q6J("ngClass",_.currentStep>=2?_.selectedClass:_.noSelectedClass),e.xp6(3),e.Q6J("ngIf",_.currentStep>=3),e.xp6(2),e.Q6J("ngClass",_.currentStep>=3?_.selectedClass:_.noSelectedClass),e.xp6(3),e.Q6J("ngIf",_.currentStep>=4),e.xp6(2),e.Q6J("ngClass",_.currentStep>=4?_.selectedClass:_.noSelectedClass),e.xp6(3),e.Q6J("ngIf",_.currentStep>=5),e.xp6(2),e.Q6J("ngIf",_.currentStep),e.xp6(1),e.Q6J("ngIf",4>_.currentStep)("ngIfElse",n),e.xp6(4),e.Q6J("ngSwitch",_.currentStep),e.xp6(1),e.Q6J("ngSwitchCase",0),e.xp6(2),e.Q6J("ngSwitchCase",1),e.xp6(2),e.Q6J("ngSwitchCase",2),e.xp6(2),e.Q6J("ngSwitchCase",3),e.xp6(2),e.Udp("display",4===_.currentStep?"":"none"),e.xp6(4),e.Q6J("mode","add")("isValid",_.isProtocolValid)}},directives:[o.mk,o.O5,o.RF,o.n9,ce,ae,k.f,l._Y,l.JL,l.F,l.Fj,l.JJ,l.On,l.EJ,l.YN,l.Kr,de],styles:['.breadcrumb[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{color:inherit;font-weight:inherit;content:">>";padding:0 5px}.btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}']}),i})();function Dt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e._UZ(2,"i",3),e.TgZ(3,"span",4),e.SDv(4,5),e.qZA(),e.TgZ(5,"span",6),e._uU(6),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e.TgZ(8,"span"),e._UZ(9,"i",8),e.TgZ(10,"span"),e.SDv(11,9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"div",2),e._UZ(15,"i",12),e.TgZ(16,"span"),e.SDv(17,13),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"form"),e.TgZ(20,"div",14),e.TgZ(21,"label",15),e.SDv(22,16),e.qZA(),e.TgZ(23,"div",17),e.TgZ(24,"input",18),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().device.name=n}),e.qZA(),e.TgZ(25,"div",19),e.SDv(26,20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",14),e.TgZ(28,"label",15),e.SDv(29,21),e.qZA(),e.TgZ(30,"div",17),e.TgZ(31,"input",22),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().device.description=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",14),e.TgZ(33,"label",15),e.SDv(34,23),e.qZA(),e.TgZ(35,"div",17),e.TgZ(36,"input",24),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().deviceLabels=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"label",25),e.SDv(39,26),e.qZA(),e.TgZ(40,"div",17),e.TgZ(41,"select",27),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().device.adminState=n}),e.TgZ(42,"option",28),e._uU(43,"UNLOCKED"),e.qZA(),e.TgZ(44,"option",29),e._uU(45,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",14),e.TgZ(47,"label",30),e.SDv(48,31),e.qZA(),e.TgZ(49,"div",17),e._UZ(50,"input",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",33),e.TgZ(52,"app-device-service-list",34),e.NdJ("singleDeviceSvcSelectedEvent",function(n){return e.CHM(t),e.oxw().onSingleDeviceSvcSelected(n)}),e.qZA(),e.qZA(),e.TgZ(53,"div",33),e.TgZ(54,"app-device-profile-list",35),e.NdJ("singleProfileSelectedEvent",function(n){return e.CHM(t),e.oxw().onSingleProfileSelected(n)}),e.qZA(),e.qZA(),e.TgZ(55,"div",33),e.TgZ(56,"app-device-protocol",36),e.NdJ("isValidChange",function(n){return e.CHM(t),e.oxw().isProtocolValid=n}),e.qZA(),e.qZA(),e.TgZ(57,"div",33),e.TgZ(58,"app-device-auto-event",37),e.NdJ("autoEventsChange",function(n){return e.CHM(t),e.oxw().device.autoEvents=n})("isValidChange",function(n){return e.CHM(t),e.oxw().isAutoEventsValid=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Oqu(t.device.name),e.xp6(1),e.Q6J("disabled",t.validateBeforeSave()),e.xp6(17),e.ekj("is-invalid",""===t.device.name),e.Q6J("ngModel",t.device.name),e.xp6(7),e.Q6J("ngModel",t.device.description),e.xp6(5),e.Q6J("ngModel",t.deviceLabels),e.xp6(5),e.Q6J("ngModel",t.device.adminState),e.xp6(9),e.Q6J("value",t.device.operatingState),e.xp6(2),e.Q6J("deviceSvcSelected",t.selectedSvc),e.xp6(2),e.Q6J("enableSelectAll",!1)("toolbars",!1)("singleProfileSelected",t.selectedProfile)("associatedDeviceColumn",!1),e.xp6(2),e.Q6J("mode","edit")("deviceProtocols",t.device.protocols)("isValid",t.isProtocolValid),e.xp6(2),e.Q6J("deviceProfile",t.selectedProfile)("autoEvents",t.device.autoEvents)("isValid",t.isAutoEventsValid)}}let Pt=(()=>{class i{constructor(t,_,n,s,a){this.router=t,this.route=_,this.metaSvc=n,this.msgSvc=s,this.errorSvc=a,this.isProtocolValid=!0,this.isAutoEventsValid=!0}ngOnInit(){this.route.queryParams.subscribe(t=>{!t.deviceName||this.metaSvc.findDeviceByName(t.deviceName).subscribe(n=>{var s;this.device=n.device,this.deviceLabels=null===(s=this.device.labels)||void 0===s?void 0:s.join(","),this.setDefaultDeviceSvcSelected(this.device.serviceName),this.setDefaultDeviceProfileSelected(this.device.profileName)})})}onSingleProfileSelected(t){this.selectedProfile=t}onSingleDeviceSvcSelected(t){this.selectedSvc=t}setDefaultDeviceSvcSelected(t){this.metaSvc.findDevcieServiceByName(t).subscribe(_=>{this.selectedSvc=_.service})}setDefaultDeviceProfileSelected(t){this.metaSvc.findProfileByName(t).subscribe(_=>{this.selectedProfile=_.profile})}validateBeforeSave(){return""===this.device.name||!this.isAutoEventsValid||!this.isProtocolValid}save(){var t,_,n;this.device.labels=null===(t=this.deviceLabels)||void 0===t?void 0:t.split(","),this.device.serviceName=null===(_=this.selectedSvc)||void 0===_?void 0:_.name,this.device.profileName=null===(n=this.selectedProfile)||void 0===n?void 0:n.name,this.device.protocols=this.deviceProtocols.getDeviceProtocols(),this.metaSvc.updateDevice(this.device).subscribe(s=>{var a;this.errorSvc.handleErrorForAPI(s)||(this.msgSvc.success("update device",`name: ${null===(a=this.device)||void 0===a?void 0:a.name}`),this.router.navigate(["../device-list"],{relativeTo:this.route}))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.F0),e.Y36(A.gz),e.Y36(m.D),e.Y36(b.e),e.Y36(G.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-device"]],viewQuery:function(t,_){if(1&t&&e.Gf(ce,5),2&t){let n;e.iGM(n=e.CRH())&&(_.deviceProtocols=n.first)}},decls:1,vars:1,consts:function(){let c,t,_,n,s,a,E,f,C;return c="Edit Device",t="Save",_="Device Primary",n="DeviceName",s=" device name can't not be empty! ",a="Description",E="Labels",f="AdminState",C="OperatingState",[["class","card",4,"ngIf"],[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-edit","text-danger","fa-lg"],[1,"mx-2"],c,[1,"text-primary"],["type","button",1,"btn","btn-success","btn-sm","float-right",3,"disabled","click"],[1,"fa","fa-save","mr-1"],t,[1,"card-body"],[1,"card","mb-3"],[1,"fa","fa-tags","fa-lg","text-danger","mr-1"],_,[1,"form-group","row"],[1,"col-md-2","col-form-label"],n,[1,"col-md-10"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],s,a,["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],E,["type","text","name","labels",1,"form-control",3,"ngModel","ngModelChange"],["for","adminState",1,"col-md-2","col-form-label"],f,["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","operatingState",1,"col-md-2","col-form-label"],C,["type","text","name","operatingState","disabled","",1,"form-control",3,"value"],[1,"mb-3"],[3,"deviceSvcSelected","singleDeviceSvcSelectedEvent"],[3,"enableSelectAll","toolbars","singleProfileSelected","associatedDeviceColumn","singleProfileSelectedEvent"],[3,"mode","deviceProtocols","isValid","isValidChange"],[3,"deviceProfile","autoEvents","isValid","autoEventsChange","isValidChange"]]},template:function(t,_){1&t&&e.YNc(0,Dt,59,20,"div",0),2&t&&e.Q6J("ngIf",_.device)},directives:[o.O5,l._Y,l.JL,l.F,l.Fj,l.Q7,l.JJ,l.On,l.EJ,l.YN,l.Kr,ae,k.f,ce,de],styles:["input[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}.btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),i})(),Mt=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-profile-center"]],decls:1,vars:0,template:function(t,_){1&t&&e._UZ(0,"router-outlet")},directives:[A.lC],styles:[""]}),i})(),Ot=(()=>{class i{constructor(t,_,n,s,a){this.metaSvc=t,this.msgSvc=_,this.errSvc=n,this.router=s,this.route=a}ngOnInit(){this.renderYamlSource()}renderYamlSource(){let t=document.getElementById("editor");this.codeMirrorEditor=CodeMirror.fromTextArea(t,{mode:"yaml",theme:"gruvbox-dark",foldGutter:!0,smartIndent:!0,showCursorWhenSelecting:!0,lineNumbers:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],autofocus:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,cursorHeight:.85,autocorrect:!0}),this.codeMirrorEditor.setSize("auto","600px"),this.codeMirrorEditor.on("drop",(_,n)=>{var s;this.yamlFile=null===(s=n.dataTransfer)||void 0===s?void 0:s.files[0]}),this.codeMirrorEditor.on("paste",(_,n)=>{})}submit(){this.profileYamlSource=this.codeMirrorEditor.getValue(),this.metaSvc.addProfileYamlByNameViaUIBackend(this.profileYamlSource).subscribe(t=>{this.errSvc.handleErrorForAPI(t)||(this.msgSvc.success("Add profile"),this.router.navigate(["../device-profile-list"],{relativeTo:this.route}))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.D),e.Y36(b.e),e.Y36(G.T),e.Y36(A.F0),e.Y36(A.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-profile"]],decls:15,vars:0,consts:function(){let c,t,_;return c="Add Profile",t="\xA0drag-and-drop is enabled",_="Submit",[[1,"card"],[1,"card-header"],[1,"text-danger","font-weight-bold","fa","fa-code","mr-2"],[1,"mr-3","font-weight-bold"],c,[1,"fa","fa-info-circle","text-success","font-weight-bold"],t,[1,"float-right"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save","mr-1"],_,[1,"card-body","p-0"],["id","editor","name","editor"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span"),e._UZ(3,"span",2),e.TgZ(4,"span",3),e.SDv(5,4),e.qZA(),e.TgZ(6,"span",5),e.SDv(7,6),e.qZA(),e.qZA(),e.TgZ(8,"span",7),e.TgZ(9,"button",8),e.NdJ("click",function(){return _.submit()}),e._UZ(10,"i",9),e.TgZ(11,"span"),e.SDv(12,10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e._UZ(14,"textarea",12),e.qZA(),e.qZA())},styles:[""]}),i})(),Nt=(()=>{class i{constructor(t,_,n,s,a){this.metaSvc=t,this.msgSvc=_,this.errSvc=n,this.router=s,this.route=a}ngOnInit(){this.renderYamlSource(),this.route.queryParams.subscribe(t=>{t.profileName&&(this.profileName=t.profileName,this.metaSvc.findProfileYamlByNameViaUIBackend(t.profileName).subscribe(_=>{this.codeMirrorEditor.setValue(_),this.codeMirrorEditor.refresh()}))})}update(){this.codeMirrorEditor.refresh(),this.metaSvc.updateProfileYamlContentViaUIBackend(this.codeMirrorEditor.getValue()).subscribe(t=>{this.errSvc.handleErrorForAPI(t)||(this.msgSvc.success("Update profile",`name: ${this.profileName}`),this.router.navigate(["../device-profile-list"],{relativeTo:this.route}))})}renderYamlSource(){let t=document.getElementById("editor-edit");this.codeMirrorEditor=CodeMirror.fromTextArea(t,{mode:"yaml",theme:"gruvbox-dark",foldGutter:!0,smartIndent:!0,showCursorWhenSelecting:!0,lineNumbers:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],autofocus:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,cursorHeight:.85,autocorrect:!0}),this.codeMirrorEditor.setSize("auto","600px")}ngOnDestroy(){this.codeMirrorEditor=null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.D),e.Y36(b.e),e.Y36(G.T),e.Y36(A.F0),e.Y36(A.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-profile"]],decls:13,vars:1,consts:function(){let c;return c="Save",[[1,"card"],[1,"card-header"],[1,"text-danger","fa","fa-edit","mr-2"],[1,"float-right"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save","mr-1"],c,[1,"card-body","p-0"],["id","editor-edit","name","editor"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span"),e._UZ(3,"span",2),e._uU(4),e.qZA(),e.TgZ(5,"span",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return _.update()}),e.TgZ(7,"span"),e._UZ(8,"i",5),e.TgZ(9,"span"),e.SDv(10,6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"textarea",8),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.hij("",_.profileName," "))},styles:[""]}),i})(),ht=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-provision-watcher-center"]],decls:1,vars:0,template:function(t,_){1&t&&e._UZ(0,"router-outlet")},directives:[A.lC],styles:[""]}),i})();function Rt(i,c){if(1&i&&(e.TgZ(0,"span",72),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.adminState)}}function Zt(i,c){if(1&i&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.adminState)}}function Vt(i,c){if(1&i&&(e.TgZ(0,"span",72),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.discoveredDevice.adminState)}}function bt(i,c){if(1&i&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.discoveredDevice.adminState)}}const Lt=function(i){return{profileName:i}};function $t(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",23),e.NdJ("click",function(n){const a=e.CHM(t).$implicit;return e.oxw().selectOne(n,a)}),e.qZA(),e.qZA(),e.TgZ(3,"td",66),e._uU(4),e.qZA(),e.TgZ(5,"td",66),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"span",67),e.YNc(11,Rt,2,1,"span",68),e.YNc(12,Zt,2,1,"span",69),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"span",67),e.YNc(15,Vt,2,1,"span",68),e.YNc(16,bt,2,1,"span",69),e.qZA(),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"a",70),e._uU(19),e.qZA(),e.qZA(),e.TgZ(20,"td"),e.TgZ(21,"a",71),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.qZA()}if(2&i){const t=c.$implicit,_=e.oxw();e.ekj("table-active",_.isChecked(t.id)||_.specialFeatureAssociatedProvisionWatcherName===t.name),e.xp6(2),e.Q6J("checked",_.isChecked(t.id)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.labels),e.xp6(2),e.Q6J("ngSwitch",t.adminState),e.xp6(1),e.Q6J("ngSwitchCase","UNLOCKED"),e.xp6(3),e.Q6J("ngSwitch",t.discoveredDevice.adminState),e.xp6(1),e.Q6J("ngSwitchCase","UNLOCKED"),e.xp6(3),e.Q6J("queryParams",e.VKq(16,Lt,t.discoveredDevice.profileName)),e.xp6(1),e.Oqu(t.discoveredDevice.profileName),e.xp6(3),e.Oqu(t.serviceName),e.xp6(2),e.Oqu(t.identifiers.address),e.xp6(2),e.Oqu(t.identifiers.port),e.xp6(2),e.Oqu(t.blockingIdentifiers.port)}}let qt=(()=>{class i{constructor(t,_,n,s){this.metaSvc=t,this.msgSvc=_,this.route=n,this.router=s,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit,this.provisionWatcherList=[],this.selectedProvisionWatcher=[]}ngOnInit(){this.route.queryParams.subscribe(t=>{this.getProvisionWatcherListPagination()})}getProvisionWatcherList(){this.getProvisionWatcherListPagination()}getProvisionWatcherListPagination(){this.metaSvc.allProvisionWatchersPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.provisionWatcherList=t.provisionWatchers,console.log(this.provisionWatcherList)})}edit(){this.router.navigate(["../edit-provision-watcher"],{relativeTo:this.route,queryParams:{provisionWatcherName:this.selectedProvisionWatcher[0].name}})}selectAll(t){this.provisionWatcherList.forEach(t.target.checked?n=>{-1===this.selectedProvisionWatcher.findIndex(s=>s.name===n.name)&&this.selectedProvisionWatcher.push(n)}:n=>{this.selectedProvisionWatcher.forEach((s,a)=>{s.name===n.name&&this.selectedProvisionWatcher.splice(a,1)})})}selectOne(t,_){t.target.checked?this.selectedProvisionWatcher.push(_):this.selectedProvisionWatcher.forEach((s,a)=>{s.name===_.name&&this.selectedProvisionWatcher.splice(a,1)})}isChecked(t){return this.selectedProvisionWatcher.findIndex(_=>_.id===t)>=0}isCheckedAll(){let t=!0;return this.provisionWatcherList&&0===this.provisionWatcherList.length&&(t=!1),this.provisionWatcherList.forEach(_=>{-1===this.selectedProvisionWatcher.findIndex(n=>n.name===_.name)&&(t=!1)}),t}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}refresh(){this.metaSvc.allProvisionWatchersPagination(0,this.pageLimit).subscribe(t=>{this.provisionWatcherList=t.provisionWatchers,this.msgSvc.success("refresh"),this.resetPagination()})}delete(){this.selectedProvisionWatcher.forEach((t,_)=>{this.metaSvc.deleteOneProvisionWatcherByName(t.name).subscribe(()=>{this.selectedProvisionWatcher.splice(_,1),this.provisionWatcherList.forEach((n,s)=>{if(n.id===t.id)return this.provisionWatcherList.splice(s,1),void this.msgSvc.success("remove provisionWatcher ",` Name: ${n.name}`)})})}),this.specialFeatureName=void 0,$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.getProvisionWatcherList()}prePage(){this.setPagination(-1),this.getProvisionWatcherList()}nextPage(){console.log("next"),this.setPagination(1),this.getProvisionWatcherList()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.pageOffset=(this.pagination-1)*this.pageLimit}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.D),e.Y36(b.e),e.Y36(A.gz),e.Y36(A.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-provision-watcher-list"]],decls:95,vars:7,consts:function(){let c,t,_,n,s,a,E,f,C,S,O,T,v,V,D,g,U,J,F,z,Q;return c="Device Profile List",t="Refresh",_="Add",n="Edit",s="Delete",a="Name",E="Labels",f="AdminState",C="DiscoveredDeviceAdminState",S="DiscoveredDeviceProfileName",O="ServiceName",T="IdentifiersAddress",v="IdentifiersPort",V="BlockingIdentifiers",D="items per page",g="Previous",U="Next",J="Warning",F=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",z="Cancel",Q="Confirm",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-list","text-danger","mr-2"],c,[1,"card-body","p-0"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],["data-testid","device-list-refresh-btn",1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],t,["type","button","routerLink","../add-provision-watcher",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],_,["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],n,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],s,[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],a,E,f,C,S,O,T,v,V,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],D,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],g,[1,"page-item"],U,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],J,[1,"modal-body"],F,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],z,["type","button",1,"btn","btn-danger",3,"click"],Q,[1,"user-select-all"],[3,"ngSwitch"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-danger",4,"ngSwitchDefault"],["routerLink","../../device-profile-center",3,"queryParams"],["routerLink","../../device-service-list"],[1,"badge","badge-success"],[1,"badge","badge-danger"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"button",7),e.NdJ("click",function(){return _.refresh()}),e.TgZ(9,"span"),e._UZ(10,"i",8),e.TgZ(11,"span"),e.SDv(12,9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"button",10),e.TgZ(14,"span"),e._UZ(15,"i",11),e.TgZ(16,"span"),e.SDv(17,12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"button",13),e.NdJ("click",function(){return _.edit()}),e.TgZ(19,"span"),e._UZ(20,"i",14),e.TgZ(21,"span"),e.SDv(22,15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"button",16),e.NdJ("click",function(){return _.deleteConfirm()}),e.TgZ(24,"span"),e._UZ(25,"i",17),e.TgZ(26,"span"),e.SDv(27,18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",19),e.TgZ(29,"table",20),e.TgZ(30,"thead",21),e.TgZ(31,"tr"),e.TgZ(32,"th",22),e.TgZ(33,"input",23),e.NdJ("click",function(s){return _.selectAll(s)}),e.qZA(),e.qZA(),e.TgZ(34,"th",22),e._uU(35,"ID"),e.qZA(),e.TgZ(36,"th",22),e.SDv(37,24),e.qZA(),e.TgZ(38,"th",22),e.SDv(39,25),e.qZA(),e.TgZ(40,"th",22),e.SDv(41,26),e.qZA(),e.TgZ(42,"th",22),e.SDv(43,27),e.qZA(),e.TgZ(44,"th",22),e.SDv(45,28),e.qZA(),e.TgZ(46,"th",22),e.SDv(47,29),e.qZA(),e.TgZ(48,"th",22),e.SDv(49,30),e.qZA(),e.TgZ(50,"th",22),e.SDv(51,31),e.qZA(),e.TgZ(52,"th",22),e.SDv(53,32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"tbody"),e.YNc(55,$t,29,18,"tr",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",34),e.TgZ(57,"nav",35),e.TgZ(58,"ul",36),e.TgZ(59,"li",37),e.TgZ(60,"span",38),e.SDv(61,39),e.qZA(),e.qZA(),e.TgZ(62,"li",40),e.TgZ(63,"select",41),e.NdJ("ngModelChange",function(s){return _.pageLimit=s})("ngModelChange",function(){return _.onPageSelected()}),e.TgZ(64,"option",42),e._uU(65,"5"),e.qZA(),e.TgZ(66,"option",43),e._uU(67,"10"),e.qZA(),e.TgZ(68,"option",44),e._uU(69,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"li",45),e.TgZ(71,"button",46),e.NdJ("click",function(){return _.prePage()}),e._UZ(72,"i",47),e.TgZ(73,"span"),e.SDv(74,48),e.qZA(),e.qZA(),e.qZA(),e.TgZ(75,"li",49),e.TgZ(76,"button",46),e.NdJ("click",function(){return _.nextPage()}),e.TgZ(77,"span"),e.SDv(78,50),e.qZA(),e._UZ(79,"i",51),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"div",52),e.TgZ(81,"div",53),e.TgZ(82,"div",54),e.TgZ(83,"div",55),e.TgZ(84,"h5",56),e._UZ(85,"i",57),e.TgZ(86,"span"),e.SDv(87,58),e.qZA(),e.qZA(),e.qZA(),e.TgZ(88,"div",59),e.SDv(89,60),e.qZA(),e.TgZ(90,"div",61),e.TgZ(91,"button",62),e.SDv(92,63),e.qZA(),e.TgZ(93,"button",64),e.NdJ("click",function(){return _.delete()}),e.SDv(94,65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(18),e.Q6J("disabled",1!==_.selectedProvisionWatcher.length),e.xp6(5),e.Q6J("disabled",0===_.selectedProvisionWatcher.length),e.xp6(10),e.Q6J("checked",_.isCheckedAll()),e.xp6(22),e.Q6J("ngForOf",_.provisionWatcherList),e.xp6(8),e.Q6J("ngModel",_.pageLimit),e.xp6(8),e.Q6J("disabled",1===_.pagination),e.xp6(5),e.Q6J("disabled",_.pageLimit>_.provisionWatcherList.length))},directives:[A.rH,o.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr,o.RF,o.n9,o.ED,A.yS],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),i})();function xt(i,c){1&i&&e._UZ(0,"i",25)}function yt(i,c){1&i&&e._UZ(0,"i",25)}function Wt(i,c){1&i&&e._UZ(0,"i",25)}function wt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().previous()}),e._UZ(1,"i",27),e.TgZ(2,"span"),e.SDv(3,28),e.qZA(),e.qZA()}}function Gt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e.TgZ(1,"span"),e.SDv(2,30),e.qZA(),e._UZ(3,"i",31),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.stepStateLock())}}function Xt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._UZ(1,"i",33),e.TgZ(2,"span"),e.SDv(3,34),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.stepStateLock())}}function Ht(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"app-device-service-list",36),e.NdJ("singleDeviceSvcSelectedEvent",function(n){return e.CHM(t),e.oxw().onSingleDeviceSvcSelected(n)}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("deviceSvcSelected",t.selectedSvc)}}function kt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"app-device-profile-list",37),e.NdJ("singleProfileSelectedEvent",function(n){return e.CHM(t),e.oxw().onSingleProfileSelected(n)}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("singleProfileSelected",t.selectedProfile)("enableSelectAll",!1)("toolbars",!1)("associatedDeviceColumn",!1)}}function Ut(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"form",38),e.TgZ(1,"div",39),e.TgZ(2,"label",40),e.SDv(3,41),e.qZA(),e.TgZ(4,"div",42),e.TgZ(5,"input",43),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newProvisionWatcher.name=n}),e.qZA(),e.TgZ(6,"div",44),e.TgZ(7,"small"),e.SDv(8,45),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",46),e.TgZ(10,"label",47),e.SDv(11,48),e.qZA(),e.TgZ(12,"div",42),e.TgZ(13,"input",49),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcherLabels=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",46),e.TgZ(15,"label",50),e.SDv(16,51),e.qZA(),e.TgZ(17,"div",42),e.TgZ(18,"input",52),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcherBlockingIdentifiers=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",46),e.TgZ(20,"label",53),e.SDv(21,54),e.qZA(),e.TgZ(22,"div",42),e.TgZ(23,"input",55),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcherIdentifiersAddress=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",46),e.TgZ(25,"label",56),e.SDv(26,57),e.qZA(),e.TgZ(27,"div",42),e.TgZ(28,"input",58),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcherIdentifiersPort=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",46),e.TgZ(30,"label",59),e.SDv(31,60),e.qZA(),e.TgZ(32,"div",42),e.TgZ(33,"select",61),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newProvisionWatcher.adminState=n}),e.TgZ(34,"option",62),e._uU(35,"UNLOCKED"),e.qZA(),e.TgZ(36,"option",63),e._uU(37,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",46),e.TgZ(39,"label",64),e.SDv(40,65),e.qZA(),e.TgZ(41,"div",42),e.TgZ(42,"select",66),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newProvisionWatcher.discoveredDevice.adminState=n}),e.TgZ(43,"option",62),e._uU(44,"UNLOCKED"),e.qZA(),e.TgZ(45,"option",63),e._uU(46,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.ekj("is-invalid",!t.newProvisionWatcher.name)("is-valid",t.newProvisionWatcher.name),e.Q6J("ngModel",t.newProvisionWatcher.name),e.xp6(8),e.Q6J("ngModel",t.provisionWatcherLabels),e.xp6(5),e.Q6J("ngModel",t.provisionWatcherBlockingIdentifiers),e.xp6(5),e.Q6J("ngModel",t.provisionWatcherIdentifiersAddress),e.xp6(5),e.Q6J("ngModel",t.provisionWatcherIdentifiersPort),e.xp6(5),e.Q6J("ngModel",t.newProvisionWatcher.adminState),e.xp6(9),e.Q6J("ngModel",t.newProvisionWatcher.discoveredDevice.adminState)}}let Jt=(()=>{class i{constructor(t,_,n,s,a){this.metaSvc=t,this.msgSvc=_,this.errorSvc=n,this.router=s,this.route=a,this.currentStep=0,this.selectedClass="text-white rounded px-2 bg-success  font-weight-bold",this.noSelectedClass="text-white rounded px-2 bg-secondary  font-weight-bold",this.isProtocolValid=!1,this.isAutoEventsValid=!1,this.provisionWatcherLabels="",this.provisionWatcherBlockingIdentifiers="",this.provisionWatcherIdentifiersAddress="",this.provisionWatcherIdentifiersPort="",this.newProvisionWatcher={name:"",serviceName:"",adminState:"LOCKED",labels:[],identifiers:{address:"",port:""},blockingIdentifiers:{port:[]},discoveredDevice:{adminState:"LOCKED",profileName:""}}}ngOnInit(){}onSingleDeviceSvcSelected(t){this.selectedSvc=t}onSingleProfileSelected(t){this.selectedProfile=t}submit(){var t,_,n,s;this.newProvisionWatcher.labels=null===(t=this.provisionWatcherLabels)||void 0===t?void 0:t.split(","),this.newProvisionWatcher.serviceName=null===(_=this.selectedSvc)||void 0===_?void 0:_.name,this.newProvisionWatcher.discoveredDevice.profileName=null===(n=this.selectedProfile)||void 0===n?void 0:n.name,this.newProvisionWatcher.identifiers.address=this.provisionWatcherIdentifiersAddress,this.newProvisionWatcher.identifiers.port=this.provisionWatcherIdentifiersPort,this.newProvisionWatcher.blockingIdentifiers.port=null===(s=this.provisionWatcherBlockingIdentifiers)||void 0===s?void 0:s.split(","),console.log(this.newProvisionWatcher),this.metaSvc.addProvisionWatcher(this.newProvisionWatcher).subscribe(a=>{this.errorSvc.handleErrorForAPI(a)||(this.msgSvc.success("Add ProvisionWatcher",`name: ${this.newProvisionWatcher.name}`),this.router.navigate(["../provision-watcher-list"],{relativeTo:this.route}))})}next(){this.currentStep+=1}previous(){this.currentStep=this.currentStep-1}stepStateLock(){switch(this.currentStep){case 0:return void 0===this.selectedSvc;case 1:return void 0===this.selectedProfile;case 2:return!this.newProvisionWatcher.name;case 3:return!this.isAutoEventsValid;case 4:return!this.isProtocolValid;default:return!1}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.D),e.Y36(b.e),e.Y36(G.T),e.Y36(A.F0),e.Y36(A.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-provision-watcher"]],decls:37,vars:13,consts:function(){let c,t,_,n,s,a,E,f,C,S,O,T,v,V,D;return c="Add Provision Watcher Wizard",t="SelectDeviceService",_="SelectDiscoveredDeviceProfile",n="ProvisionWatcherPrimary",s="Previous",a="Next",E="Submit",f="Name",C="the provision watcher name can't be empty!",S="Labels",O="BlockingIdentifiers",T="IdentifiersAddress",v="IdentifiersPort",V="AdminState",D="DiscoveredDevice AdminState",[[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"fa","fa-lightbulb-o","fa-lg","mr-2","text-danger"],[1,"text-secondary"],c,[1,"card-header","py-2"],["aria-label","breadcrumb",1,"mb-0","p-0"],[1,"breadcrumb","p-1","mb-0","bg-light"],[1,"breadcrumb-item"],[3,"ngClass"],t,["class","fa fa-check ml-1",4,"ngIf"],_,n,[1,"card-header","py-1"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm float-right",3,"disabled","click",4,"ngIf","ngIfElse"],["stepDone",""],[1,"card-body","p-0"],[3,"ngSwitch"],[3,"ngSwitchCase"],["SelectDeviceService",""],["SelectDeviceProfile",""],["DevicePrimary",""],[1,"fa","fa-check","ml-1"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"fa","fa-long-arrow-left","mr-1"],s,[1,"btn","btn-primary","btn-sm","float-right",3,"disabled","click"],a,[1,"fa","fa-long-arrow-right","ml-1"],[1,"btn","btn-success","btn-sm","ml-4","float-right",3,"disabled","click"],[1,"fa","fa-save","mr-1"],E,[1,"p-2"],[3,"deviceSvcSelected","singleDeviceSvcSelectedEvent"],[3,"singleProfileSelected","enableSelectAll","toolbars","associatedDeviceColumn","singleProfileSelectedEvent"],[1,"px-5","py-4"],[1,"form-group","row","has-validation"],["for","provisionWatcherName","required","",1,"col-md-2","col-form-label"],f,[1,"col-md-10"],["type","text","id","validationProvisionWatcherNameFeedback","name","provisionWatcherName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationProvisionWatcherNameFeedback",1,"invalid-feedback"],C,[1,"form-group","row"],["for","provisionWatcherLabels",1,"col-md-2","col-form-label"],S,["type","text","name","provisionWatcherLabels","placeholder","Multiple Labels are separated by commas: label1,label2,label3",1,"form-control",3,"ngModel","ngModelChange"],["for","provisionWatcherBlockingIdentifiers",1,"col-md-2","col-form-label"],O,["type","text","name","provisionWatcherBlockingIdentifiers","placeholder","Multiple BlockingIdentifiers are separated by commas: port1,port2,port3",1,"form-control",3,"ngModel","ngModelChange"],["for","provisionWatcherIdentifiersAddress",1,"col-md-2","col-form-label"],T,["type","text","name","provisionWatcherIdentifiersAddress",1,"form-control",3,"ngModel","ngModelChange"],["for","provisionWatcherIdentifiersPort",1,"col-md-2","col-form-label"],v,["type","text","name","provisionWatcherIdentifiersPort",1,"form-control",3,"ngModel","ngModelChange"],["for","provisionWatcherAdminState",1,"col-md-2","col-form-label"],V,["name","provisionWatcherAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","provisionWatcherDiscoveredDeviceAdminState",1,"col-md-2","col-form-label"],D,["name","provisionWatcherDiscoveredDeviceAdminState",1,"custom-select",3,"ngModel","ngModelChange"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e._UZ(3,"span",3),e.TgZ(4,"span",4),e.SDv(5,5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"nav",7),e.TgZ(8,"ol",8),e.TgZ(9,"li",9),e.TgZ(10,"span",10),e.TgZ(11,"span"),e.SDv(12,11),e.qZA(),e.YNc(13,xt,1,0,"i",12),e.qZA(),e.qZA(),e.TgZ(14,"li",9),e.TgZ(15,"span",10),e.TgZ(16,"span"),e.SDv(17,13),e.qZA(),e.YNc(18,yt,1,0,"i",12),e.qZA(),e.qZA(),e.TgZ(19,"li",9),e.TgZ(20,"span",10),e.TgZ(21,"span"),e.SDv(22,14),e.qZA(),e.YNc(23,Wt,1,0,"i",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",15),e.YNc(25,wt,4,0,"button",16),e.YNc(26,Gt,4,1,"button",17),e.YNc(27,Xt,4,1,"ng-template",null,18,e.W1O),e.qZA(),e.TgZ(29,"div",19),e.TgZ(30,"div",20),e.YNc(31,Ht,2,1,"ng-template",21,22,e.W1O),e.YNc(33,kt,2,4,"ng-template",21,23,e.W1O),e.YNc(35,Ut,47,11,"ng-template",21,24,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.MAs(28);e.xp6(10),e.Q6J("ngClass",_.currentStep>=0?_.selectedClass:_.noSelectedClass),e.xp6(3),e.Q6J("ngIf",_.currentStep>=1),e.xp6(2),e.Q6J("ngClass",_.currentStep>=1?_.selectedClass:_.noSelectedClass),e.xp6(3),e.Q6J("ngIf",_.currentStep>=2),e.xp6(2),e.Q6J("ngClass",_.currentStep>=2?_.selectedClass:_.noSelectedClass),e.xp6(3),e.Q6J("ngIf",_.currentStep>=3),e.xp6(2),e.Q6J("ngIf",_.currentStep),e.xp6(1),e.Q6J("ngIf",2>_.currentStep)("ngIfElse",n),e.xp6(4),e.Q6J("ngSwitch",_.currentStep),e.xp6(1),e.Q6J("ngSwitchCase",0),e.xp6(2),e.Q6J("ngSwitchCase",1),e.xp6(2),e.Q6J("ngSwitchCase",2)}},directives:[o.mk,o.O5,o.RF,o.n9,ae,k.f,l._Y,l.JL,l.F,l.Fj,l.JJ,l.On,l.EJ,l.YN,l.Kr],styles:['.breadcrumb[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{color:inherit;font-weight:inherit;content:">>";padding:0 5px}.btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}']}),i})();function Ft(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e._UZ(2,"i",3),e.TgZ(3,"span",4),e.SDv(4,5),e.qZA(),e.TgZ(5,"span",6),e._uU(6),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e.TgZ(8,"span"),e._UZ(9,"i",8),e.TgZ(10,"span"),e.SDv(11,9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"div",2),e._UZ(15,"i",12),e.TgZ(16,"span"),e.SDv(17,13),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"form"),e.TgZ(20,"div",14),e.TgZ(21,"label",15),e.SDv(22,16),e.qZA(),e.TgZ(23,"div",17),e.TgZ(24,"input",18),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcher.name=n}),e.qZA(),e.TgZ(25,"div",19),e.SDv(26,20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",14),e.TgZ(28,"label",15),e.SDv(29,21),e.qZA(),e.TgZ(30,"div",17),e.TgZ(31,"input",22),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcherLabels=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",14),e.TgZ(33,"label",23),e.SDv(34,24),e.qZA(),e.TgZ(35,"div",17),e.TgZ(36,"select",25),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcher.adminState=n}),e.TgZ(37,"option",26),e._uU(38,"UNLOCKED"),e.qZA(),e.TgZ(39,"option",27),e._uU(40,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",14),e.TgZ(42,"label",28),e.SDv(43,29),e.qZA(),e.TgZ(44,"div",17),e.TgZ(45,"select",30),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcher.discoveredDevice.adminState=n}),e.TgZ(46,"option",26),e._uU(47,"UNLOCKED"),e.qZA(),e.TgZ(48,"option",27),e._uU(49,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",14),e.TgZ(51,"label",15),e.SDv(52,31),e.qZA(),e.TgZ(53,"div",17),e.TgZ(54,"input",22),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcher.identifiers.address=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",14),e.TgZ(56,"label",15),e.SDv(57,32),e.qZA(),e.TgZ(58,"div",17),e.TgZ(59,"input",22),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcher.identifiers.port=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",14),e.TgZ(61,"label",15),e.SDv(62,33),e.qZA(),e.TgZ(63,"div",17),e.TgZ(64,"input",22),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().provisionWatcher.blockingIdentifiers.port=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",34),e.TgZ(66,"app-device-service-list",35),e.NdJ("singleDeviceSvcSelectedEvent",function(n){return e.CHM(t),e.oxw().onSingleDeviceSvcSelected(n)}),e.qZA(),e.qZA(),e.TgZ(67,"div",34),e.TgZ(68,"app-device-profile-list",36),e.NdJ("singleProfileSelectedEvent",function(n){return e.CHM(t),e.oxw().onSingleProfileSelected(n)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Oqu(t.provisionWatcher.name),e.xp6(1),e.Q6J("disabled",t.validateBeforeSave()),e.xp6(17),e.ekj("is-invalid",""===t.provisionWatcher.name),e.Q6J("ngModel",t.provisionWatcher.name),e.xp6(7),e.Q6J("ngModel",t.provisionWatcherLabels),e.xp6(5),e.Q6J("ngModel",t.provisionWatcher.adminState),e.xp6(9),e.Q6J("ngModel",t.provisionWatcher.discoveredDevice.adminState),e.xp6(9),e.Q6J("ngModel",t.provisionWatcher.identifiers.address),e.xp6(5),e.Q6J("ngModel",t.provisionWatcher.identifiers.port),e.xp6(5),e.Q6J("ngModel",t.provisionWatcher.blockingIdentifiers.port),e.xp6(2),e.Q6J("deviceSvcSelected",t.selectedSvc),e.xp6(2),e.Q6J("enableSelectAll",!1)("toolbars",!1)("singleProfileSelected",t.selectedProfile)("associatedDeviceColumn",!1)}}let zt=(()=>{class i{constructor(t,_,n,s,a){this.router=t,this.route=_,this.metaSvc=n,this.msgSvc=s,this.errorSvc=a}ngOnInit(){this.route.queryParams.subscribe(t=>{!t.provisionWatcherName||this.metaSvc.findProvisionWatcherByName(t.provisionWatcherName).subscribe(n=>{var s;this.provisionWatcher=n.provisionWatcher,console.log(this.provisionWatcher),this.provisionWatcherLabels=null===(s=this.provisionWatcher.labels)||void 0===s?void 0:s.join(","),this.setDefaultDeviceSvcSelected(this.provisionWatcher.serviceName),this.setDefaultDeviceProfileSelected(this.provisionWatcher.discoveredDevice.profileName)})})}setDefaultDeviceSvcSelected(t){this.metaSvc.findDevcieServiceByName(t).subscribe(_=>{this.selectedSvc=_.service})}onSingleProfileSelected(t){this.selectedProfile=t}onSingleDeviceSvcSelected(t){this.selectedSvc=t}setDefaultDeviceProfileSelected(t){this.metaSvc.findProfileByName(t).subscribe(_=>{this.selectedProfile=_.profile})}validateBeforeSave(){return""===this.provisionWatcher.name}save(){var t,_,n;this.provisionWatcher.labels=null===(t=this.provisionWatcherLabels)||void 0===t?void 0:t.split(","),this.provisionWatcher.serviceName=null===(_=this.selectedSvc)||void 0===_?void 0:_.name,this.provisionWatcher.discoveredDevice.profileName=null===(n=this.selectedProfile)||void 0===n?void 0:n.name,this.metaSvc.updateProvisionWatcher(this.provisionWatcher).subscribe(s=>{var a;this.errorSvc.handleErrorForAPI(s)||(this.msgSvc.success("update ProvisionWatcher",`name: ${null===(a=this.provisionWatcher)||void 0===a?void 0:a.name}`),this.router.navigate(["../provision-watcher-list"],{relativeTo:this.route}))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.F0),e.Y36(A.gz),e.Y36(m.D),e.Y36(b.e),e.Y36(G.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-provision-watcher"]],decls:1,vars:1,consts:function(){let c,t,_,n,s,a,E,f,C,S,O;return c="Edit ProvisionWatcher",t="Save",_="ProvisionWatcher Primary",n="ProvisionWatcherName",s=" device name can't not be empty! ",a="Labels",E="AdminState",f="DiscoveredDeviceAdminState",C="IdentifiersAddress",S="IdentifiersPort",O="BlockingIdentifiers",[["class","card",4,"ngIf"],[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-edit","text-danger","fa-lg"],[1,"mx-2"],c,[1,"text-primary"],["type","button",1,"btn","btn-success","btn-sm","float-right",3,"disabled","click"],[1,"fa","fa-save","mr-1"],t,[1,"card-body"],[1,"card","mb-3"],[1,"fa","fa-tags","fa-lg","text-danger","mr-1"],_,[1,"form-group","row"],[1,"col-md-2","col-form-label"],n,[1,"col-md-10"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],s,a,["type","text","name","labels",1,"form-control",3,"ngModel","ngModelChange"],["for","adminState",1,"col-md-2","col-form-label"],E,["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","discoveredDeviceadminState",1,"col-md-2","col-form-label"],f,["name","discoveredDevice.adminState",1,"custom-select",3,"ngModel","ngModelChange"],C,S,O,[1,"mb-3"],[3,"deviceSvcSelected","singleDeviceSvcSelectedEvent"],[3,"enableSelectAll","toolbars","singleProfileSelected","associatedDeviceColumn","singleProfileSelectedEvent"]]},template:function(t,_){1&t&&e.YNc(0,Ft,69,16,"div",0),2&t&&e.Q6J("ngIf",_.provisionWatcher)},directives:[o.O5,l._Y,l.JL,l.F,l.Fj,l.Q7,l.JJ,l.On,l.EJ,l.YN,l.Kr,ae,k.f],styles:[""]}),i})();var Qt=I(8253),Yt=I(1964),Bt=I(4294),Kt=I(5894),jt=I(7216);let Ee=(()=>{class i{constructor(t,_){this.router=t,this.metadataSvc=_}canActivate(t,_){return this.checkAvailable(t,_)}canActivateChild(t,_){return this.canActivate(t,_)}checkAvailable(t,_){return this.metadataSvc.ping().pipe((0,Bt.q)(1),(0,Kt.K)(n=>this.router.navigate(["/svc-unavailable"],{queryParams:{svcName:"metadata",routerPath:`/${_.url.split("/")[1]}`}})),(0,jt.z)(()=>(0,Yt.of)(!0)))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(A.F0),e.LFG(m.D))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const e_=[{path:"",component:W,canActivate:[Qt.a,Ee],canActivateChild:[Ee],children:[{path:"",redirectTo:"device-service-list",pathMatch:"full"},{path:"device-service-list",component:L},{path:"device-center",component:r,children:[{path:"",redirectTo:"device-list",pathMatch:"full"},{path:"device-list",component:Ue},{path:"add-device",component:mt},{path:"edit-device",component:Pt}]},{path:"device-profile-center",component:Mt,children:[{path:"",redirectTo:"device-profile-list",pathMatch:"full"},{path:"device-profile-list",component:k.f},{path:"edit-profile",component:Nt},{path:"add-profile",component:Ot}]},{path:"provision-watcher-center",component:ht,children:[{path:"",redirectTo:"provision-watcher-list",pathMatch:"full"},{path:"provision-watcher-list",component:qt},{path:"edit-provision-watcher",component:zt},{path:"add-provision-watcher",component:Jt}]}]}];let t_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[A.Bz.forChild(e_)],A.Bz]}),i})(),__=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[o.ez,l.u5,t_,l.UX]]}),i})()},2822:(re,y,I)=>{I.d(y,{f:()=>le});var o=I(476),l=I(2437),A=I(7822),e=I(9502),W=I(8583),m=I(3092);function b(M,L){if(1&M){const r=o.EpF();o.TgZ(0,"div",50),o.TgZ(1,"div",51),o.TgZ(2,"button",52),o.NdJ("click",function(){return o.CHM(r),o.oxw().refresh()}),o.TgZ(3,"span"),o._UZ(4,"i",53),o.TgZ(5,"span"),o.SDv(6,54),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"button",55),o.TgZ(8,"span"),o._UZ(9,"i",56),o.TgZ(10,"span"),o.SDv(11,57),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"button",58),o.NdJ("click",function(){return o.CHM(r),o.oxw().edit()}),o.TgZ(13,"span"),o._UZ(14,"i",59),o.TgZ(15,"span"),o.SDv(16,60),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"button",61),o.NdJ("click",function(){return o.CHM(r),o.oxw().deleteConfirm()}),o.TgZ(18,"span"),o._UZ(19,"i",62),o.TgZ(20,"span"),o.SDv(21,63),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&M){const r=o.oxw();o.xp6(12),o.Q6J("disabled",1!==r.multiProfilesSelected.length),o.xp6(5),o.Q6J("disabled",0===r.multiProfilesSelected.length)}}function P(M,L){if(1&M){const r=o.EpF();o.TgZ(0,"input",64),o.NdJ("click",function(u){return o.CHM(r),o.oxw().selectAll(u)}),o.qZA()}if(2&M){const r=o.oxw();o.Q6J("checked",r.isCheckedAll())}}function h(M,L){1&M&&(o.TgZ(0,"th",9),o.SDv(1,65),o.qZA())}const Z=function(M){return{profileName:M}};function x(M,L){if(1&M&&(o.TgZ(0,"td",69),o.TgZ(1,"a",70),o._UZ(2,"i",71),o.qZA(),o.qZA()),2&M){const r=o.oxw().$implicit;o.xp6(1),o.Q6J("queryParams",o.VKq(1,Z,r.name))}}function X(M,L){if(1&M){const r=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"input",66),o.NdJ("click",function(u){const w=o.CHM(r).$implicit;return o.oxw().selectOne(u,w.name)}),o.qZA(),o.qZA(),o.TgZ(3,"td",67),o._uU(4),o.qZA(),o.TgZ(5,"td",67),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.YNc(9,x,3,3,"td",68),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td"),o._uU(15),o.qZA(),o.qZA()}if(2&M){const r=L.$implicit,d=o.oxw();o.ekj("table-active",d.isChecked(r.name)),o.xp6(2),o.s9C("value",r.name),o.Q6J("checked",d.isChecked(r.name)),o.xp6(2),o.Oqu(r.id),o.xp6(2),o.Oqu(r.name),o.xp6(2),o.Oqu(r.description),o.xp6(1),o.Q6J("ngIf",d.associatedDeviceColumn),o.xp6(2),o.Oqu(r.labels),o.xp6(2),o.Oqu(r.manufacturer),o.xp6(2),o.Oqu(r.model)}}let le=(()=>{class M{constructor(r,d,u,q){this.metaSvc=r,this.msgSvc=d,this.route=u,this.router=q,this.associatedDeviceColumn=!0,this.toolbars=!0,this.enableSelectAll=!0,this.singleProfileSelectedEvent=new o.vpe,this.multipleProfileSelectedEvent=new o.vpe,this.profileList=[],this.multiProfilesSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(r=>{r.profileName?this.metaSvc.findProfileByName(r.profileName).subscribe(d=>{this.profileList=[],this.profileList.push(d.profile)}):this.findAllDeviceProfilesPagination()})}findAllDeviceProfilesPagination(){this.metaSvc.allDeviceProfolesPagination(this.pageOffset,this.pageLimit).subscribe(r=>{this.profileList=r.profiles})}onSingleProfileSelectedEmitter(){this.singleProfileSelectedEvent.emit(this.singleProfileSelected)}onMultipleProfileSelectedEmitter(){this.multipleProfileSelectedEvent.emit(this.multiProfilesSelected)}refresh(){this.metaSvc.allDeviceProfolesPagination(0,this.pageLimit).subscribe(r=>{this.profileList=r.profiles,this.msgSvc.success("refresh"),this.pagination=1,this.resetCheckbox()})}onPageSelected(){this.resetPagination(),this.setPagination(),this.findAllDeviceProfilesPagination()}prePage(){this.setPagination(-1),this.metaSvc.allDeviceProfolesPagination(this.pageOffset,this.pageLimit).subscribe(r=>{this.profileList=r.profiles})}nextPage(){this.setPagination(1),this.metaSvc.allDeviceProfolesPagination(this.pageOffset,this.pageLimit).subscribe(r=>{this.profileList=r.profiles})}setPageLimit(r){this.pageLimit=r}setPagination(r){1===r?this.pagination+=1:-1===r&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit,this.resetCheckbox()}resetPagination(){this.pagination=1,this.resetCheckbox()}resetCheckbox(){}edit(){this.router.navigate(["../edit-profile"],{relativeTo:this.route,queryParams:{profileName:this.multiProfilesSelected[0]}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}delete(){this.multiProfilesSelected.forEach(r=>{this.metaSvc.deleteProfileByName(r).subscribe(()=>{this.multiProfilesSelected=[],this.profileList.forEach((d,u)=>{d.name==r&&(this.profileList.splice(u,1),this.msgSvc.success("delete",`  Name: ${d.name}`))})})}),$("#deleteConfirmDialog").modal("hide")}isSingleProfileChecked(r){var d;return(null===(d=this.singleProfileSelected)||void 0===d?void 0:d.name)===r}selectSingleProfile(r,d){r.target.checked?this.profileList.forEach(q=>{q.name===d&&(this.singleProfileSelected=q)}):this.singleProfileSelected=void 0,this.onSingleProfileSelectedEmitter()}isCheckedAll(){let r=!0;return this.profileList&&0===this.profileList.length&&(r=!1),this.profileList.forEach(d=>{-1===this.multiProfilesSelected.indexOf(d.name)&&(r=!1)}),r}selectAll(r){this.profileList.forEach(r.target.checked?u=>{this.multiProfilesSelected.includes(u.name)||this.multiProfilesSelected.push(u.name)}:u=>{this.multiProfilesSelected.includes(u.name)&&this.multiProfilesSelected.splice(this.multiProfilesSelected.indexOf(u.name),1)}),this.onMultipleProfileSelectedEmitter()}isChecked(r){return this.enableSelectAll?this.multiProfilesSelected.includes(r):this.isSingleProfileChecked(r)}selectOne(r,d){this.enableSelectAll?(r.target.checked?this.multiProfilesSelected.push(d):this.multiProfilesSelected.splice(this.multiProfilesSelected.indexOf(d),1),this.onMultipleProfileSelectedEmitter()):this.selectSingleProfile(r,d)}}return M.\u0275fac=function(r){return new(r||M)(o.Y36(l.D),o.Y36(A.e),o.Y36(e.gz),o.Y36(e.F0))},M.\u0275cmp=o.Xpm({type:M,selectors:[["app-device-profile-list"]],inputs:{associatedDeviceColumn:"associatedDeviceColumn",toolbars:"toolbars",enableSelectAll:"enableSelectAll",multiProfilesSelected:"multiProfilesSelected",singleProfileSelected:"singleProfileSelected"},outputs:{singleProfileSelectedEvent:"singleProfileSelectedEvent",multipleProfileSelectedEvent:"multipleProfileSelectedEvent"},decls:67,vars:7,consts:function(){let L,r,d,u,q,w,H,Y,B,K,j,ee,te,_e,ie,ne,oe,se;return L="Device Profile List",r="Name",d="Description",u="Labels",q="Manufacturer",w="Model",H="items per page",Y="Previous",B="Next",K="Warning",j=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",ee="Cancel",te="Confirm",_e="Refresh",ie="Add",ne="Edit",oe="Delete",se="AssociatedDevice",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-list","text-danger","mr-2"],L,[1,"card-body","p-0"],["class","bg-light px-2 py-2",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox",3,"checked","click",4,"ngIf"],r,d,["scope","col",4,"ngIf"],u,q,w,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],H,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],Y,[1,"page-item"],B,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],K,[1,"modal-body"],j,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],ee,["type","button",1,"btn","btn-danger",3,"click"],te,[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],_e,["type","button","routerLink","../add-profile",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],ie,["type","button","data-toggle","tooltip","data-placement","top","title","only one should be selected",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],ne,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],oe,["type","checkbox",3,"checked","click"],se,["type","checkbox",3,"value","checked","click"],[1,"user-select-all"],["class","text-center",4,"ngIf"],[1,"text-center"],["routerLink","../../device-center",1,"badge","badge-pill","badge-primary",3,"queryParams"],[1,"fa","fa-sitemap"]]},template:function(r,d){1&r&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"i",2),o.TgZ(3,"span"),o.SDv(4,3),o.qZA(),o.qZA(),o.TgZ(5,"div",4),o.YNc(6,b,22,2,"div",5),o.TgZ(7,"div",6),o.TgZ(8,"table",7),o.TgZ(9,"thead",8),o.TgZ(10,"tr"),o.TgZ(11,"th",9),o.YNc(12,P,1,1,"input",10),o.qZA(),o.TgZ(13,"th",9),o._uU(14,"ID"),o.qZA(),o.TgZ(15,"th",9),o.SDv(16,11),o.qZA(),o.TgZ(17,"th",9),o.SDv(18,12),o.qZA(),o.YNc(19,h,2,0,"th",13),o.TgZ(20,"th",9),o.SDv(21,14),o.qZA(),o.TgZ(22,"th",9),o.SDv(23,15),o.qZA(),o.TgZ(24,"th",9),o.SDv(25,16),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"tbody"),o.YNc(27,X,16,11,"tr",17),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(28,"div",18),o.TgZ(29,"nav",19),o.TgZ(30,"ul",20),o.TgZ(31,"li",21),o.TgZ(32,"span",22),o.SDv(33,23),o.qZA(),o.qZA(),o.TgZ(34,"li",24),o.TgZ(35,"select",25),o.NdJ("ngModelChange",function(q){return d.pageLimit=q})("ngModelChange",function(){return d.onPageSelected()}),o.TgZ(36,"option",26),o._uU(37,"5"),o.qZA(),o.TgZ(38,"option",27),o._uU(39,"10"),o.qZA(),o.TgZ(40,"option",28),o._uU(41,"20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(42,"li",29),o.TgZ(43,"button",30),o.NdJ("click",function(){return d.prePage()}),o._UZ(44,"i",31),o.TgZ(45,"span"),o.SDv(46,32),o.qZA(),o.qZA(),o.qZA(),o.TgZ(47,"li",33),o.TgZ(48,"button",30),o.NdJ("click",function(){return d.nextPage()}),o.TgZ(49,"span"),o.SDv(50,34),o.qZA(),o._UZ(51,"i",35),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(52,"div",36),o.TgZ(53,"div",37),o.TgZ(54,"div",38),o.TgZ(55,"div",39),o.TgZ(56,"h5",40),o._UZ(57,"i",41),o.TgZ(58,"span"),o.SDv(59,42),o.qZA(),o.qZA(),o.qZA(),o.TgZ(60,"div",43),o.SDv(61,44),o.qZA(),o.TgZ(62,"div",45),o.TgZ(63,"button",46),o.SDv(64,47),o.qZA(),o.TgZ(65,"button",48),o.NdJ("click",function(){return d.delete()}),o.SDv(66,49),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r&&(o.xp6(6),o.Q6J("ngIf",d.toolbars),o.xp6(6),o.Q6J("ngIf",d.enableSelectAll),o.xp6(7),o.Q6J("ngIf",d.associatedDeviceColumn),o.xp6(8),o.Q6J("ngForOf",d.profileList),o.xp6(8),o.Q6J("ngModel",d.pageLimit),o.xp6(8),o.Q6J("disabled",1===d.pagination),o.xp6(5),o.Q6J("disabled",d.pageLimit>d.profileList.length))},directives:[W.O5,W.sg,m.EJ,m.JJ,m.On,m.YN,m.Kr,e.rH,e.yS],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),M})()},7982:(re,y,I)=>{I.d(y,{V:()=>W});var o=I(1841),l=I(5894),A=I(476),e=I(4889);let W=(()=>{class m{constructor(P,h){this.http=P,this.errorSvc=h,this.endpoint="/core-command",this.version="/api/v3",this.urlPrefix=`${this.endpoint}${this.version}`,this.endpointHealthUrl="/ping",this.versionUrl="/version",this.configUrl="/config",this.deviceCoreCommandListUrl=`${this.urlPrefix}/device/all`,this.commandsByDeviceIdUrl=`${this.urlPrefix}/device/`,this.commandsByDeviceNameUrl=`${this.urlPrefix}/device/name/`,this.issueCmdByDeviceNameAndCmdNameUrl=`${this.urlPrefix}/device/name/`,this.httpPostOrPutJSONOptions={headers:new o.WM({"Content-type":"application/json"})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe((0,l.K)(h=>this.errorSvc.handleError(h)))}findCommnadsByDeviceId(P){return this.http.get(`${this.commandsByDeviceIdUrl}${P}`).pipe((0,l.K)(Z=>this.errorSvc.handleError(Z)))}allDeviceCoreCommandsPagination(P,h){return this.http.get(`${this.deviceCoreCommandListUrl}?offset=${P}&limit=${h}`).pipe((0,l.K)(x=>this.errorSvc.handleError(x)))}findDeviceAssociatedCommnadsByDeviceName(P){return this.http.get(`${this.commandsByDeviceNameUrl}${P}`).pipe((0,l.K)(Z=>this.errorSvc.handleError(Z)))}findAllDeviceCommnads(){return this.http.get(`${this.urlPrefix}/device`).pipe((0,l.K)(h=>this.errorSvc.handleError(h)))}issueGetBinaryCmd(P,h){return this.http.request("GET",`${this.commandsByDeviceIdUrl}${P}/command/${h}`,{responseType:"arraybuffer"}).pipe((0,l.K)(x=>this.errorSvc.handleError(x)))}issueGetCmd(P,h){return this.http.get(`${this.issueCmdByDeviceNameAndCmdNameUrl}${P}/${h}?ds-pushevent=true&ds-returnevent=true`).pipe((0,l.K)(x=>this.errorSvc.handleError(x)))}issueSetCmd(P,h,Z){return this.http.put(`${this.issueCmdByDeviceNameAndCmdNameUrl}${P}/${h}`,JSON.stringify(Z),this.httpPostOrPutJSONOptions).pipe((0,l.K)(X=>this.errorSvc.handleError(X)))}}return m.\u0275fac=function(P){return new(P||m)(A.LFG(o.eN),A.LFG(e.T))},m.\u0275prov=A.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);